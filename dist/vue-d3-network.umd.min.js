(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e(require("vue")):"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["vue-d3-network"]=e(require("vue")):t["vue-d3-network"]=e(t["Vue"])})("undefined"!==typeof self?self:this,(function(t){return function(){var e={679:function(t,e){var n,i,s;(function(r,o){i=[],n=o,s="function"===typeof n?n.apply(e,i):n,void 0===s||(t.exports=s)})("undefined"!==typeof self&&self,(function(){function t(){var e=Object.getOwnPropertyDescriptor(document,"currentScript");if(!e&&"currentScript"in document&&document.currentScript)return document.currentScript;if(e&&e.get!==t&&document.currentScript)return document.currentScript;try{throw new Error}catch(f){var n,i,s,r=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,o=/@([^@]*):(\d+):(\d+)\s*$/gi,l=r.exec(f.stack)||o.exec(f.stack),a=l&&l[1]||!1,c=l&&l[2]||!1,h=document.location.href.replace(document.location.hash,""),u=document.getElementsByTagName("script");a===h&&(n=document.documentElement.outerHTML,i=new RegExp("(?:[^\\n]+?\\n){0,"+(c-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),s=n.replace(i,"$1").trim());for(var d=0;d<u.length;d++){if("interactive"===u[d].readyState)return u[d];if(u[d].src===a)return u[d];if(a===h&&u[d].innerHTML&&u[d].innerHTML.trim()===s)return u[d]}return null}}return t}))},744:function(t,e){"use strict";e.Z=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n}},203:function(e){"use strict";e.exports=t}},n={};function i(t){var s=n[t];if(void 0!==s)return s.exports;var r=n[t]={exports:{}};return e[t].call(r.exports,r,r.exports,i),r.exports}!function(){i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){i.p=""}();var s={};return function(){"use strict";i.d(s,{default:function(){return ee}});var t={};if(i.r(t),i.d(t,{forceCenter:function(){return o},forceCollide:function(){return T},forceLink:function(){return q},forceManyBody:function(){return St},forceRadial:function(){return _t},forceSimulation:function(){return kt},forceX:function(){return Ct},forceY:function(){return bt}}),"undefined"!==typeof window){var e=window.document.currentScript,n=i(679);e=n(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:n});var r=e&&e.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);r&&(i.p=r[1])}function o(t,e){var n;function i(){var i,s,r=n.length,o=0,l=0;for(i=0;i<r;++i)s=n[i],o+=s.x,l+=s.y;for(o=o/r-t,l=l/r-e,i=0;i<r;++i)s=n[i],s.x-=o,s.y-=l}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){n=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i}function l(t){return function(){return t}}function a(){return 1e-6*(Math.random()-.5)}function c(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return h(this.cover(e,n),e,n,t)}function h(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var s,r,o,l,a,c,h,u,d,f=t._root,y={data:i},g=t._x0,v=t._y0,p=t._x1,m=t._y1;if(!f)return t._root=y,t;while(f.length)if((c=e>=(r=(g+p)/2))?g=r:p=r,(h=n>=(o=(v+m)/2))?v=o:m=o,s=f,!(f=f[u=h<<1|c]))return s[u]=y,t;if(l=+t._x.call(null,f.data),a=+t._y.call(null,f.data),e===l&&n===a)return y.next=f,s?s[u]=y:t._root=y,t;do{s=s?s[u]=new Array(4):t._root=new Array(4),(c=e>=(r=(g+p)/2))?g=r:p=r,(h=n>=(o=(v+m)/2))?v=o:m=o}while((u=h<<1|c)===(d=(a>=o)<<1|l>=r));return s[d]=f,s[u]=y,t}function u(t){var e,n,i,s,r=t.length,o=new Array(r),l=new Array(r),a=1/0,c=1/0,u=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(s=+this._y.call(null,e))||(o[n]=i,l[n]=s,i<a&&(a=i),i>u&&(u=i),s<c&&(c=s),s>d&&(d=s));if(a>u||c>d)return this;for(this.cover(a,c).cover(u,d),n=0;n<r;++n)h(this,o[n],l[n],t[n]);return this}function d(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,s=this._x1,r=this._y1;if(isNaN(n))s=(n=Math.floor(t))+1,r=(i=Math.floor(e))+1;else{var o,l,a=s-n,c=this._root;while(n>t||t>=s||i>e||e>=r)switch(l=(e<i)<<1|t<n,o=new Array(4),o[l]=c,c=o,a*=2,l){case 0:s=n+a,r=i+a;break;case 1:n=s-a,r=i+a;break;case 2:s=n+a,i=r-a;break;case 3:n=s-a,i=r-a;break}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=i,this._x1=s,this._y1=r,this}function f(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t}function y(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function g(t,e,n,i,s){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=s}function v(t,e,n){var i,s,r,o,l,a,c,h=this._x0,u=this._y0,d=this._x1,f=this._y1,y=[],v=this._root;v&&y.push(new g(v,h,u,d,f)),null==n?n=1/0:(h=t-n,u=e-n,d=t+n,f=e+n,n*=n);while(a=y.pop())if(!(!(v=a.node)||(s=a.x0)>d||(r=a.y0)>f||(o=a.x1)<h||(l=a.y1)<u))if(v.length){var p=(s+o)/2,m=(r+l)/2;y.push(new g(v[3],p,m,o,l),new g(v[2],s,m,p,l),new g(v[1],p,r,o,m),new g(v[0],s,r,p,m)),(c=(e>=m)<<1|t>=p)&&(a=y[y.length-1],y[y.length-1]=y[y.length-1-c],y[y.length-1-c]=a)}else{var x=t-+this._x.call(null,v.data),w=e-+this._y.call(null,v.data),k=x*x+w*w;if(k<n){var S=Math.sqrt(n=k);h=t-S,u=e-S,d=t+S,f=e+S,i=v.data}}return i}function p(t){if(isNaN(r=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var e,n,i,s,r,o,l,a,c,h,u,d,f=this._root,y=this._x0,g=this._y0,v=this._x1,p=this._y1;if(!f)return this;if(f.length)while(1){if((c=r>=(l=(y+v)/2))?y=l:v=l,(h=o>=(a=(g+p)/2))?g=a:p=a,e=f,!(f=f[u=h<<1|c]))return this;if(!f.length)break;(e[u+1&3]||e[u+2&3]||e[u+3&3])&&(n=e,d=u)}while(f.data!==t)if(i=f,!(f=f.next))return this;return(s=f.next)&&delete f.next,i?(s?i.next=s:delete i.next,this):e?(s?e[u]=s:delete e[u],(f=e[0]||e[1]||e[2]||e[3])&&f===(e[3]||e[2]||e[1]||e[0])&&!f.length&&(n?n[d]=f:this._root=f),this):(this._root=s,this)}function m(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function x(){return this._root}function w(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t}function k(t){var e,n,i,s,r,o,l=[],a=this._root;a&&l.push(new g(a,this._x0,this._y0,this._x1,this._y1));while(e=l.pop())if(!t(a=e.node,i=e.x0,s=e.y0,r=e.x1,o=e.y1)&&a.length){var c=(i+r)/2,h=(s+o)/2;(n=a[3])&&l.push(new g(n,c,h,r,o)),(n=a[2])&&l.push(new g(n,i,h,c,o)),(n=a[1])&&l.push(new g(n,c,s,r,h)),(n=a[0])&&l.push(new g(n,i,s,c,h))}return this}function S(t){var e,n=[],i=[];this._root&&n.push(new g(this._root,this._x0,this._y0,this._x1,this._y1));while(e=n.pop()){var s=e.node;if(s.length){var r,o=e.x0,l=e.y0,a=e.x1,c=e.y1,h=(o+a)/2,u=(l+c)/2;(r=s[0])&&n.push(new g(r,o,l,h,u)),(r=s[1])&&n.push(new g(r,h,l,a,u)),(r=s[2])&&n.push(new g(r,o,u,h,c)),(r=s[3])&&n.push(new g(r,h,u,a,c))}i.push(e)}while(e=i.pop())t(e.node,e.x0,e.y0,e.x1,e.y1);return this}function _(t){return t[0]}function C(t){return arguments.length?(this._x=t,this):this._x}function b(t){return t[1]}function z(t){return arguments.length?(this._y=t,this):this._y}function N(t,e,n){var i=new M(null==e?_:e,null==n?b:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function M(t,e,n,i,s,r){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=s,this._y1=r,this._root=void 0}function L(t){var e={data:t.data},n=e;while(t=t.next)n=n.next={data:t.data};return e}var O=N.prototype=M.prototype;function A(t){return t.x+t.vx}function E(t){return t.y+t.vy}function T(t){var e,n,i=1,s=1;function r(){for(var t,r,l,c,h,u,d,f=e.length,y=0;y<s;++y)for(r=N(e,A,E).visitAfter(o),t=0;t<f;++t)l=e[t],u=n[l.index],d=u*u,c=l.x+l.vx,h=l.y+l.vy,r.visit(g);function g(t,e,n,s,r){var o=t.data,f=t.r,y=u+f;if(!o)return e>c+y||s<c-y||n>h+y||r<h-y;if(o.index>l.index){var g=c-o.x-o.vx,v=h-o.y-o.vy,p=g*g+v*v;p<y*y&&(0===g&&(g=a(),p+=g*g),0===v&&(v=a(),p+=v*v),p=(y-(p=Math.sqrt(p)))/p*i,l.vx+=(g*=p)*(y=(f*=f)/(d+f)),l.vy+=(v*=p)*y,o.vx-=g*(y=1-y),o.vy-=v*y)}}}function o(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function c(){if(e){var i,s,r=e.length;for(n=new Array(r),i=0;i<r;++i)s=e[i],n[s.index]=+t(s,i,e)}}return"function"!==typeof t&&(t=l(null==t?1:+t)),r.initialize=function(t){e=t,c()},r.iterations=function(t){return arguments.length?(s=+t,r):s},r.strength=function(t){return arguments.length?(i=+t,r):i},r.radius=function(e){return arguments.length?(t="function"===typeof e?e:l(+e),c(),r):t},r}O.copy=function(){var t,e,n=new M(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=L(i),n;t=[{source:i,target:n._root=new Array(4)}];while(i=t.pop())for(var s=0;s<4;++s)(e=i.source[s])&&(e.length?t.push({source:e,target:i.target[s]=new Array(4)}):i.target[s]=L(e));return n},O.add=c,O.addAll=u,O.cover=d,O.data=f,O.extent=y,O.find=v,O.remove=p,O.removeAll=m,O.root=x,O.size=w,O.visit=k,O.visitAfter=S,O.x=C,O.y=z;var B="$";function I(){}function P(t,e){var n=new I;if(t instanceof I)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var i,s=-1,r=t.length;if(null==e)while(++s<r)n.set(s,t[s]);else while(++s<r)n.set(e(i=t[s],s,t),i)}else if(t)for(var o in t)n.set(o,t[o]);return n}I.prototype=P.prototype={constructor:I,has:function(t){return B+t in this},get:function(t){return this[B+t]},set:function(t,e){return this[B+t]=e,this},remove:function(t){var e=B+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===B&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===B&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===B&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===B&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===B&&++t;return t},empty:function(){for(var t in this)if(t[0]===B)return!1;return!0},each:function(t){for(var e in this)e[0]===B&&t(this[e],e.slice(1),this)}};var j=P;function R(){}var $=j.prototype;function D(t,e){var n=new R;if(t instanceof R)t.each((function(t){n.add(t)}));else if(t){var i=-1,s=t.length;if(null==e)while(++i<s)n.add(t[i]);else while(++i<s)n.add(e(t[i],i,t))}return n}R.prototype=D.prototype={constructor:R,has:$.has,add:function(t){return t+="",this[B+t]=t,this},remove:$.remove,clear:$.clear,values:$.keys,size:$.size,empty:$.empty,each:$.each};function F(t){return t.index}function U(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function q(t){var e,n,i,s,r,o=F,c=d,h=l(30),u=1;function d(t){return 1/Math.min(s[t.source.index],s[t.target.index])}function f(i){for(var s=0,o=t.length;s<u;++s)for(var l,c,h,d,f,y,g,v=0;v<o;++v)l=t[v],c=l.source,h=l.target,d=h.x+h.vx-c.x-c.vx||a(),f=h.y+h.vy-c.y-c.vy||a(),y=Math.sqrt(d*d+f*f),y=(y-n[v])/y*i*e[v],d*=y,f*=y,h.vx-=d*(g=r[v]),h.vy-=f*g,c.vx+=d*(g=1-g),c.vy+=f*g}function y(){if(i){var l,a,c=i.length,h=t.length,u=j(i,o);for(l=0,s=new Array(c);l<h;++l)a=t[l],a.index=l,"object"!==typeof a.source&&(a.source=U(u,a.source)),"object"!==typeof a.target&&(a.target=U(u,a.target)),s[a.source.index]=(s[a.source.index]||0)+1,s[a.target.index]=(s[a.target.index]||0)+1;for(l=0,r=new Array(h);l<h;++l)a=t[l],r[l]=s[a.source.index]/(s[a.source.index]+s[a.target.index]);e=new Array(h),g(),n=new Array(h),v()}}function g(){if(i)for(var n=0,s=t.length;n<s;++n)e[n]=+c(t[n],n,t)}function v(){if(i)for(var e=0,s=t.length;e<s;++e)n[e]=+h(t[e],e,t)}return null==t&&(t=[]),f.initialize=function(t){i=t,y()},f.links=function(e){return arguments.length?(t=e,y(),f):t},f.id=function(t){return arguments.length?(o=t,f):o},f.iterations=function(t){return arguments.length?(u=+t,f):u},f.strength=function(t){return arguments.length?(c="function"===typeof t?t:l(+t),g(),f):c},f.distance=function(t){return arguments.length?(h="function"===typeof t?t:l(+t),v(),f):h},f}var W={value:function(){}};function V(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new X(i)}function X(t){this._=t}function H(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function Y(t,e){for(var n,i=0,s=t.length;i<s;++i)if((n=t[i]).name===e)return n.value}function Q(t,e,n){for(var i=0,s=t.length;i<s;++i)if(t[i].name===e){t[i]=W,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}X.prototype=V.prototype={constructor:X,on:function(t,e){var n,i=this._,s=H(t+"",i),r=-1,o=s.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);while(++r<o)if(n=(t=s[r]).type)i[n]=Q(i[n],t.name,e);else if(null==e)for(n in i)i[n]=Q(i[n],t.name,null);return this}while(++r<o)if((n=(t=s[r]).type)&&(n=Y(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new X(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,s=new Array(n),r=0;r<n;++r)s[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],r=0,n=i.length;r<n;++r)i[r].value.apply(e,s)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],s=0,r=i.length;s<r;++s)i[s].value.apply(e,n)}};var Z,G,J=V,K=0,tt=0,et=0,nt=1e3,it=0,st=0,rt=0,ot="object"===typeof performance&&performance.now?performance:Date,lt="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function at(){return st||(lt(ct),st=ot.now()+rt)}function ct(){st=0}function ht(){this._call=this._time=this._next=null}function ut(t,e,n){var i=new ht;return i.restart(t,e,n),i}function dt(){at(),++K;var t,e=Z;while(e)(t=st-e._time)>=0&&e._call.call(null,t),e=e._next;--K}function ft(){st=(it=ot.now())+rt,K=tt=0;try{dt()}finally{K=0,gt(),st=0}}function yt(){var t=ot.now(),e=t-it;e>nt&&(rt-=e,it=t)}function gt(){var t,e,n=Z,i=1/0;while(n)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Z=e);G=t,vt(i)}function vt(t){if(!K){tt&&(tt=clearTimeout(tt));var e=t-st;e>24?(t<1/0&&(tt=setTimeout(ft,t-ot.now()-rt)),et&&(et=clearInterval(et))):(et||(it=ot.now(),et=setInterval(yt,nt)),K=1,lt(ft))}}function pt(t){return t.x}function mt(t){return t.y}ht.prototype=ut.prototype={constructor:ht,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?at():+n)+(null==e?0:+e),this._next||G===this||(G?G._next=this:Z=this,G=this),this._call=t,this._time=n,vt()},stop:function(){this._call&&(this._call=null,this._time=1/0,vt())}};var xt=10,wt=Math.PI*(3-Math.sqrt(5));function kt(t){var e,n=1,i=.001,s=1-Math.pow(i,1/300),r=0,o=.6,l=j(),a=ut(h),c=J("tick","end");function h(){u(),c.call("tick",e),n<i&&(a.stop(),c.call("end",e))}function u(i){var a,c,h=t.length;void 0===i&&(i=1);for(var u=0;u<i;++u)for(n+=(r-n)*s,l.each((function(t){t(n)})),a=0;a<h;++a)c=t[a],null==c.fx?c.x+=c.vx*=o:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=o:(c.y=c.fy,c.vy=0);return e}function d(){for(var e,n=0,i=t.length;n<i;++n){if(e=t[n],e.index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var s=xt*Math.sqrt(n),r=n*wt;e.x=s*Math.cos(r),e.y=s*Math.sin(r)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function f(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),d(),e={tick:u,restart:function(){return a.restart(h),e},stop:function(){return a.stop(),e},nodes:function(n){return arguments.length?(t=n,d(),l.each(f),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(i=+t,e):i},alphaDecay:function(t){return arguments.length?(s=+t,e):+s},alphaTarget:function(t){return arguments.length?(r=+t,e):r},velocityDecay:function(t){return arguments.length?(o=1-t,e):1-o},force:function(t,n){return arguments.length>1?(null==n?l.remove(t):l.set(t,f(n)),e):l.get(t)},find:function(e,n,i){var s,r,o,l,a,c=0,h=t.length;for(null==i?i=1/0:i*=i,c=0;c<h;++c)l=t[c],s=e-l.x,r=n-l.y,o=s*s+r*r,o<i&&(a=l,i=o);return a},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}}function St(){var t,e,n,i,s=l(-30),r=1,o=1/0,c=.81;function h(i){var s,r=t.length,o=N(t,pt,mt).visitAfter(d);for(n=i,s=0;s<r;++s)e=t[s],o.visit(f)}function u(){if(t){var e,n,r=t.length;for(i=new Array(r),e=0;e<r;++e)n=t[e],i[n.index]=+s(n,e,t)}}function d(t){var e,n,s,r,o,l=0,a=0;if(t.length){for(s=r=o=0;o<4;++o)(e=t[o])&&(n=Math.abs(e.value))&&(l+=e.value,a+=n,s+=n*e.x,r+=n*e.y);t.x=s/a,t.y=r/a}else{e=t,e.x=e.data.x,e.y=e.data.y;do{l+=i[e.data.index]}while(e=e.next)}t.value=l}function f(t,s,l,h){if(!t.value)return!0;var u=t.x-e.x,d=t.y-e.y,f=h-s,y=u*u+d*d;if(f*f/c<y)return y<o&&(0===u&&(u=a(),y+=u*u),0===d&&(d=a(),y+=d*d),y<r&&(y=Math.sqrt(r*y)),e.vx+=u*t.value*n/y,e.vy+=d*t.value*n/y),!0;if(!(t.length||y>=o)){(t.data!==e||t.next)&&(0===u&&(u=a(),y+=u*u),0===d&&(d=a(),y+=d*d),y<r&&(y=Math.sqrt(r*y)));do{t.data!==e&&(f=i[t.data.index]*n/y,e.vx+=u*f,e.vy+=d*f)}while(t=t.next)}}return h.initialize=function(e){t=e,u()},h.strength=function(t){return arguments.length?(s="function"===typeof t?t:l(+t),u(),h):s},h.distanceMin=function(t){return arguments.length?(r=t*t,h):Math.sqrt(r)},h.distanceMax=function(t){return arguments.length?(o=t*t,h):Math.sqrt(o)},h.theta=function(t){return arguments.length?(c=t*t,h):Math.sqrt(c)},h}function _t(t,e,n){var i,s,r,o=l(.1);function a(t){for(var o=0,l=i.length;o<l;++o){var a=i[o],c=a.x-e||1e-6,h=a.y-n||1e-6,u=Math.sqrt(c*c+h*h),d=(r[o]-u)*s[o]*t/u;a.vx+=c*d,a.vy+=h*d}}function c(){if(i){var e,n=i.length;for(s=new Array(n),r=new Array(n),e=0;e<n;++e)r[e]=+t(i[e],e,i),s[e]=isNaN(r[e])?0:+o(i[e],e,i)}}return"function"!==typeof t&&(t=l(+t)),null==e&&(e=0),null==n&&(n=0),a.initialize=function(t){i=t,c()},a.strength=function(t){return arguments.length?(o="function"===typeof t?t:l(+t),c(),a):o},a.radius=function(e){return arguments.length?(t="function"===typeof e?e:l(+e),c(),a):t},a.x=function(t){return arguments.length?(e=+t,a):e},a.y=function(t){return arguments.length?(n=+t,a):n},a}function Ct(t){var e,n,i,s=l(.1);function r(t){for(var s,r=0,o=e.length;r<o;++r)s=e[r],s.vx+=(i[r]-s.x)*n[r]*t}function o(){if(e){var r,o=e.length;for(n=new Array(o),i=new Array(o),r=0;r<o;++r)n[r]=isNaN(i[r]=+t(e[r],r,e))?0:+s(e[r],r,e)}}return"function"!==typeof t&&(t=l(null==t?0:+t)),r.initialize=function(t){e=t,o()},r.strength=function(t){return arguments.length?(s="function"===typeof t?t:l(+t),o(),r):s},r.x=function(e){return arguments.length?(t="function"===typeof e?e:l(+e),o(),r):t},r}function bt(t){var e,n,i,s=l(.1);function r(t){for(var s,r=0,o=e.length;r<o;++r)s=e[r],s.vy+=(i[r]-s.y)*n[r]*t}function o(){if(e){var r,o=e.length;for(n=new Array(o),i=new Array(o),r=0;r<o;++r)n[r]=isNaN(i[r]=+t(e[r],r,e))?0:+s(e[r],r,e)}}return"function"!==typeof t&&(t=l(null==t?0:+t)),r.initialize=function(t){e=t,o()},r.strength=function(t){return arguments.length?(s="function"===typeof t?t:l(+t),o(),r):s},r.y=function(e){return arguments.length?(t="function"===typeof e?e:l(+e),o(),r):t},r}var zt=i(203);const Nt=["width","height"],Mt={id:"l-links",class:"links"},Lt=["d","id","onClick","onTouchstartPassive"],Ot={key:0,id:"l-nodes",class:"nodes"},At=["viewBox","width","height","onClick","onTouchendPassive","onMousedown","onTouchstart","x","y","title","innerHTML"],Et={key:1,class:"labels",id:"link-labels"},Tt={class:"link-label",fontSize:"fontSize"},Bt=["xlink:href"],It={key:2,class:"labels",id:"node-labels"},Pt=["x","y","font-size","stroke-width"];function jt(t,e,n,i,s,r){const o=(0,zt.resolveComponent)("cicle");return(0,zt.openBlock)(),(0,zt.createElementBlock)("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",ref:"svg",width:n.size.w,height:n.size.h,class:"net-svg",onMouseup:e[0]||(e[0]=t=>r.emit("dragEnd",[t])),onTouchendPassive:e[1]||(e[1]=t=>r.emit("dragEnd",[t]))},[(0,zt.createElementVNode)("g",Mt,[((0,zt.openBlock)(!0),(0,zt.createElementBlock)(zt.Fragment,null,(0,zt.renderList)(n.links,(t=>((0,zt.openBlock)(),(0,zt.createElementBlock)("path",(0,zt.mergeProps)({d:r.linkPath(t),id:t.id,onClick:e=>r.emit("linkClick",[e,t]),onTouchstartPassive:e=>r.emit("linkClick",[e,t])},r.linkAttrs(t),{class:r.linkClass(t.id),style:r.linkStyle(t)}),null,16,Lt)))),256))]),n.noNodes?(0,zt.createCommentVNode)("",!0):((0,zt.openBlock)(),(0,zt.createElementBlock)("g",Ot,[((0,zt.openBlock)(!0),(0,zt.createElementBlock)(zt.Fragment,null,(0,zt.renderList)(n.nodes,((t,e)=>((0,zt.openBlock)(),(0,zt.createElementBlock)(zt.Fragment,{key:e},[r.svgIcon(t)?((0,zt.openBlock)(),(0,zt.createElementBlock)("svg",(0,zt.mergeProps)({key:0,viewBox:r.svgIcon(t).attrs.viewBox,width:r.getNodeSize(t,"width"),height:r.getNodeSize(t,"height"),onClick:e=>r.emit("nodeClick",[e,t]),onTouchendPassive:e=>r.emit("nodeClick",[e,t]),onMousedown:(0,zt.withModifiers)((t=>r.emit("dragStart",[t,e])),["prevent"]),onTouchstart:(0,zt.withModifiers)((t=>r.emit("dragStart",[t,e])),["prevent"]),x:t.x-r.getNodeSize(t,"width")/2,y:t.y-r.getNodeSize(t,"height")/2,style:r.nodeStyle(t),title:t.name,class:r.nodeClass(t,["node-svg"]),innerHTML:r.svgIcon(t).data},t._svgAttrs),null,16,At)):((0,zt.openBlock)(),(0,zt.createBlock)(o,(0,zt.mergeProps)({key:1,r:r.getNodeSize(t)/2,onClick:e=>r.emit("nodeClick",[e,t]),onTouchendPassive:e=>r.emit("nodeClick",[e,t]),onMousedown:(0,zt.withModifiers)((t=>r.emit("dragStart",[t,e])),["prevent"]),onTouchstart:(0,zt.withModifiers)((t=>r.emit("dragStart",[t,e])),["prevent"]),cx:t.x,cy:t.y,style:r.nodeStyle(t),title:t.name,class:r.nodeClass(t)},t._svgAttrs),null,16,["r","onClick","onTouchendPassive","onMousedown","onTouchstart","cx","cy","style","title","class"]))],64)))),128))])),n.linkLabels?((0,zt.openBlock)(),(0,zt.createElementBlock)("g",Et,[((0,zt.openBlock)(!0),(0,zt.createElementBlock)(zt.Fragment,null,(0,zt.renderList)(n.links,(t=>((0,zt.openBlock)(),(0,zt.createElementBlock)("text",Tt,[(0,zt.createElementVNode)("textPath",{"xlink:href":"#"+t.id,startOffset:"50%"},(0,zt.toDisplayString)(t.name),9,Bt)])))),256))])):(0,zt.createCommentVNode)("",!0),n.nodeLabels?((0,zt.openBlock)(),(0,zt.createElementBlock)("g",It,[((0,zt.openBlock)(!0),(0,zt.createElementBlock)(zt.Fragment,null,(0,zt.renderList)(n.nodes,(t=>((0,zt.openBlock)(),(0,zt.createElementBlock)("text",{class:(0,zt.normalizeClass)(["node-label",t._labelClass?t._labelClass:""]),x:t.x+r.getNodeSize(t)/2+n.fontSize/2,y:t.y+n.labelOffset.y,"font-size":n.fontSize,"stroke-width":n.fontSize/8},(0,zt.toDisplayString)(t.name),11,Pt)))),256))])):(0,zt.createCommentVNode)("",!0)],40,Nt)}var Rt={NS:"http://www.w3.org/2000/svg",export(t,e){let n=null;if(this.isSvgData(t)){n=t.cloneNode(!0);let i=t.parentNode.querySelectorAll("*"),s={},r=this.getcssRules();for(let t of i){let n=r;e||(n=r.filter((e=>t.matches(e.selectorText))));for(let t of n)s[t.selectorText]=t.cssText}let o=Object.values(s).join("\n");if(o){let t=document.createElementNS(this.NS,"style");t.type="text/css",n.insertBefore(t,n.childNodes[0]),t.innerHTML=o,n.appendChild(t)}}return n},makeCanvas(t,e,n){let i=document.createElement("canvas");i.width=t,i.height=e;let s=i.getContext("2d");return s.fillStyle=n||"white",s.fillRect(0,0,i.width,i.height),i},serialize(t){return(new XMLSerializer).serializeToString(t)},svgToImg(t,e,n){let i=this.serialize(t),s=new Image,r=e.getContext("2d");s.onload=function(){r.drawImage(this,0,0);let t=e.toDataURL("image/png");n(null,t,r)},s.onerror=function(t){n(t)},s.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(i)))},save(t){return"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(this.serialize(t))},getcssRules(){let t=[];for(let e of document.styleSheets){let n=this.readRules(e);for(let e of n)e&&e.cssText&&t.push(e)}return t},readRules(t){try{if(!t.cssRules)return t.rules||[]}catch(e){if("SecurityError"!==e.name)throw e;return[]}return t.cssRules},toDom(t){let e=document.createElement("div");return e.innerHTML=t,e.firstChild||null},toObject(t){if(t){let e={};if(t.attributes)for(let i=t.attributes.length;i>=0;i--){let n=t.attributes[i];n&&(e[n.name]=n.value)}let n=t.innerHTML;if(n)return{attrs:e,data:n}}return null},svgElFromString(t){let e=this.toDom(t);if(this.isSvgData(e))return e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e},svgDataToUrl(t,e){if("object"===typeof e)for(let i in e){let n=e[i]?e[i]:"";t.setAttribute(i,n)}let n=this.export(t);return n?this.svgToUrl(this.serialize(n)):null},isSvgData(t){return!!t.firstChild&&"svg"===t.firstChild.parentNode.nodeName},svgToUrl(t){let e=new Blob([t],{type:"image/svg+xml"}),n=URL.createObjectURL(e);return n}},$t={name:"svg-renderer",props:["size","nodes","noNodes","selected","linksSelected","links","nodeSize","padding","fontSize","strLinks","linkWidth","nodeLabels","linkLabels","labelOffset","nodeSym"],computed:{nodeSvg(){return this.nodeSym?Rt.toObject(this.nodeSym):null}},methods:{getNodeSize(t,e){let n=t._size||this.nodeSize;return e&&(n=t["_"+e]||n),n},svgIcon(t){return t.svgObj||this.nodeSvg},emit(t,e){this.$emit("action",t,e)},svgScreenShot(t,e,n,i){let s=Rt["export"](this.$refs.svg,i);if(e)t(null,Rt.save(s));else{n||(n=this.searchBackground());let e=Rt.makeCanvas(this.size.w,this.size.h,n);Rt.svgToImg(s,e,((e,n)=>{e?t(e):t(null,n)}))}},linkClass(t){let e=["link"];return this.linksSelected.hasOwnProperty(t)&&e.push("selected"),this.strLinks||e.push("curve"),e},linkPath(t){let e={M:[0|t.source.x,0|t.source.y],X:[0|t.target.x,0|t.target.y]};return this.strLinks?"M "+e.M.join(" ")+" L"+e.X.join(" "):(e.Q=[t.source.x,t.target.y],"M "+e.M+" Q "+e.Q.join(" ")+" "+e.X)},nodeStyle(t){return t._color?"fill: "+t._color:""},linkStyle(t){let e={};return t._color&&(e.stroke=t._color),e},nodeClass(t,e=[]){let n=t._cssClass?t._cssClass:[];return Array.isArray(n)||(n=[n]),n.push("node"),e.forEach((t=>n.push(t))),this.selected[t.id]&&n.push("selected"),(t.fx||t.fy)&&n.push("pinned"),n},searchBackground(){let t=this;while(t.$parent){let e=window.getComputedStyle(t.$el),n=e.getPropertyValue("background-color"),i=n.replace(/[^\d,]/g,"").split(","),s=i.reduce(((t,e)=>parseInt(t)+parseInt(e)),0);if(s>0)return n;t=t.$parent}return"white"},spriteSymbol(){let t=this.nodeSym;if(t)return Rt.toSymbol(t)},linkAttrs(t){let e=t._svgAttrs||{};return e["stroke-width"]=e["stroke-width"]||this.linkWidth,e}}},Dt=i(744);const Ft=(0,Dt.Z)($t,[["render",jt]]);var Ut=Ft;const qt=["width","height"];function Wt(t,e,n,i,s,r){const o=(0,zt.resolveDirective)("render-canvas");return(0,zt.withDirectives)(((0,zt.openBlock)(),(0,zt.createElementBlock)("canvas",{id:"canvas",ref:"canvas",width:n.size.w,height:n.size.h,style:(0,zt.normalizeStyle)(r.canvasStyle),onMouseup:e[0]||(e[0]=(0,zt.withModifiers)(((...t)=>r.canvasClick&&r.canvasClick(...t)),["prevent"])),onMousedown:e[1]||(e[1]=(0,zt.withModifiers)(((...t)=>r.canvasClick&&r.canvasClick(...t)),["prevent"])),onTouchstart:e[2]||(e[2]=(0,zt.withModifiers)(((...t)=>r.canvasClick&&r.canvasClick(...t)),["prevent"])),onTouchendPassive:e[3]||(e[3]=(...t)=>r.canvasClick&&r.canvasClick(...t))},null,44,qt)),[[o,{links:n.links,nodes:n.nodes}]])}var Vt={background:{_cssClass:"net-svg",fillStyle:"white"},node:{_cssClass:"node",fillStyle:"green",strokeStyle:"orange",lineWidth:2},link:{_cssClass:"link",strokeStyle:"blue",lineWidth:1},labels:{_cssClass:"node-label",_svgElement:"text",fillStyle:"black",fontFamily:"Arial"},nodeSelected:{_cssClass:"node selected",fillStyle:"red",strokeStyle:"orange",lineWidth:2},linkSelected:{_cssClass:"link selected",strokeStyle:"green",lineWidth:2},nodePinned:{_cssClass:"node pinned",fillStyle:"green",strokeStyle:"red"},nodeSelectedPinned:{_cssClass:"node selected pinned",fillStyle:"green",strokeStyle:"red"}},Xt={randomId(){return Math.random().toString(36).substring(7)},fillStyle(t,e){let n=null,i="picker-"+this.randomId(),s=this.canvasPicker(t,i);e.appendChild(s);let r={fillStyle:"fill",strokeStyle:"stroke",lineWidth:"stroke-width",fontFamily:"font-family"};return t=this.mapStyle(i,r,t,n),e.removeChild(s),t},mapStyle(t,e,n,i,s){let r=window.getComputedStyle(document.getElementById(t),i);s=s||["lineWidth"];for(let o in e){let t=r.getPropertyValue(e[o]);s.indexOf(o)>-1&&(t=parseInt(t,10)),t&&(n[o]=t)}return n},canvasPicker(t,e){let n=t._svgAttrs||{},i=t._svgElement||"circle";if(!t._svgAttrs)switch(i){case"text":n={x:10,y:10,fontSize:20};break;case"circle":n={cx:10,cy:10,r:10};break}return n.class=t._cssClass,n.id=e,this.svgCreate(i,n)},compColor(t){let e=document.createElement("div");e.style.backgroundColor=t,document.body.appendChild(e);let n=window.getComputedStyle(e,null).getPropertyValue("background-color");return document.body.removeChild(e),n},svgCreate(t,e){let n=document.createElementNS("http://www.w3.org/2000/svg",t);for(let i in e)n.setAttributeNS(null,i,e[i]);return n},create(t,e,n){n=n||"body";let i=document.createElement(t),s=e||"";return s+=this.randomId(),i.setAttribute("id",s),document[n].appendChild(i),i}},Ht={name:"canvas-renderer",props:["size","offset","padding","nodes","selected","linksSelected","links","nodeSize","fontSize","strLinks","linkWidth","nodeLabels","labelOffset","canvasStyles","nodeSym","noNodes"],data(){return{hitCanvas:null,shapes:{},drag:null,stylesReady:!1,CssStyles:!0,styles:Vt,sprites:{}}},computed:{nodeSvg(){return this.nodeSym},canvasStyle(){let t=this.padding.x+"px",e=this.padding.y+"px";return{left:t,top:e}}},directives:{renderCanvas:{mounted(t,e,n){let i=e.value.nodes,s=e.value.links;n.context.draw(i,s,t)}}},created(){if(this.canvasStyles)for(let t in this.canvasStyles)this.styles[t]=this.canvasStyles[t]},mounted(){let t=this;this.$nextTick((()=>{t.hitCanvas.width=t.size.w,t.hitCanvas.height=t.size.h}))},watch:{nodeSize(){this.resetSprites()},canvasStyles(){this.resetSprites()}},methods:{canvasScreenShot(t,e){let n=this.$refs.canvas,i=document.createElement("canvas");i.width=n.width,i.height=n.height;let s=this.styles.background;e&&(s=this.getCssColor(e));let r=i.getContext("2d");r=this.setCtx(r,s),r.fillRect(0,0,i.width,i.height),r.drawImage(n,0,0);let o=i.toDataURL("image/png");o?t(null,o):t(new Error("error generating canvas image"))},emit(t,e){this.$emit("action",t,e)},canvasInit(){let t=document.createElement("canvas");t.width=this.size.w,t.height=this.size.h,t.top=this.offset.y,t.left=this.offset.x,t.id="hit-canvas",this.hitCanvas=t,this.resetSprites()},resetSprites(){this.sprites={};let t=["node","nodeSelected","nodePinned","nodeSelectedPinned"];for(let e of t)this.sprites[e]=this.nodeSprite(this.styles[e])},canvasClick(t){let e=this.hitCanvas.getContext("2d"),n=t.touches?t.touches[0]||t.changedTouches[0]:t,i=document.body.scrollTop,s=document.body.scrollLeft,r=n.clientX+s-this.padding.x,o=n.clientY+i-this.padding.y,l=e.getImageData(r,o,1,1).data,a=`rgb(${l[0]},${l[1]},${l[2]})`,c=this.shapes[a];if(c){let e=c.type+"s",n=this[e][c.index];n&&("mouseup"===t.type||"touchend"===t.type?(this.drag&&(this.drag=null,this.emit("dragEnd")),this.emit(c.type+"Click",[t,n])):"mousedown"!==t.type&&"touchstart"!==t.type||(this.drag=n,this.emit("dragStart",[t,n.index])))}},drawNode(t,e){t.beginPath(),t.arc(e.x,e.y,this.nodeSize/2,0,2*Math.PI,!1);let n=t.fillStyle,i=t.strokeStyle;e._color&&(t.fillStyle=e._color),e._borderColor&&(t.strokeStyle=e._borderColor),t.fill(),t.stroke(),t.closePath(),t.fillStyle=n,t.strokeStyle=i},drawLink(t,e){t.beginPath(),t.moveTo(e.source.x,e.source.y),t.lineTo(e.target.x,e.target.y),t.lineWidth=this.linkWidth,t.strokeStyle=e._color?e._color:e.color,t.stroke()},drawText(t,e,n,i){e=this.setCtx(e,n),this.fontSize&&(e.font=this.fontSize+"px "+n.fontFamily);let s=i?t[i]:t.name,r=t.x+this.labelOffset.x,o=t.y+this.labelOffset.y;e.fillText(s,r,o)},draw(t,e,n){this.hitCanvas||this.canvasInit();let i=n.getContext("2d"),s=this.hitCanvas.getContext("2d");!this.stylesReady&&this.CssStyles&&(this.getCssStyles(),this.resetSprites()),i.clearRect(0,0,this.size.w,this.size.h),i=this.setCtx(i,this.styles.link);for(let r of e)this.linksSelected[r.id]||this.drawLink(i,r),this.mapShape(r,"link",this.drawLink,s);i=this.setCtx(i,this.styles.linkSelected);for(let r in this.linksSelected){let t=this.linksSelected[r];this.isOnView(t.source)&&this.isOnView(t.target)&&this.drawLink(i,t)}i=this.setCtx(i,this.styles.node);for(let r of t)if(this.isOnView(r)){if(!this.noNodes){let t=this.getNodeSprite(r);i.drawImage(t,r.x-t.width/2,r.y-t.height/2),this.mapShape(r,"node",this.drawNode,s)}this.nodeLabels&&(r.size=this.nodeSize,this.drawText(r,i,this.labelStyle(r)))}i=this.setCtx(i,this.styles.nodeSelected);for(let r in this.selected){let t=this.selected[r];if(this.isOnView(t)){let e=this.getNodeSprite(t);i.drawImage(e,t.x-e.width/2,t.y-e.height/2)}}},getNodeSprite(t){let e=this.nodeSpriteName(t),n=this.sprites[e];if(!n){let i=this.loadNodeStyle(t);n=this.nodeSprite(i),this.sprites[e]=n}return n},nodeSpriteName(t){let e="node";return this.selected[t.id]&&(e+="Selected"),t.pinned&&(e+="Pinned"),t._cssClass&&(e+="-"+t._cssClass),t._color&&(e+="-"+Xt.compColor(t._color)),e},nodeSprite(t){let e=this.nodeSize+this.styles.node.lineWidth,n=this.nodeSvg?e:2*e,i=this.spriteCanvas(n),s=i.getContext("2d");if(this.nodeSvg){let n={width:e,height:e,class:t._cssClass||"",style:t._cssStyle||""},i=Rt.svgDataToUrl(this.nodeSvg,n);if(i){let t=new Image;t.onload=()=>{s.drawImage(t,0,0),URL.revokeObjectURL(i)},t.onerror=t=>{console.log("error creating node image",t)},t.src=i}}else s=this.setCtx(s,t),this.drawNode(s,{x:e,y:e});return i},spriteCanvas(t){let e=document.createElement("canvas");return e.width=t,e.height=t,e},isOnView(t){return t.x>0&&t.y>0&&t.x<this.size.w&&t.y<this.size.h},mapShape(t,e,n,i){t.colorIndex||(t.colorIndex=this.newColorIndex());let s=Object.assign({},t);s.color=t.colorIndex.rgb,s.borderColor=t.colorIndex.rgb,s.type=e;let r=this.sprites[e];r?(r=this.cloneCanvas(r),r=this.fillCanvas(r,t.colorIndex),i.drawImage(r,t.x-r.width/2,t.y-r.height/2)):n(i,s),this.shapes[t.colorIndex.rgb]=s},fillCanvas(t,e){let n=t.getContext("2d"),i=n.getImageData(0,0,t.width,t.height),s=t.width*t.height*4;for(let r=3;r<=s;r+=4)i.data[r]>0&&(i.data[r]=255,i.data[r-3]=e.r,i.data[r-2]=e.g,i.data[r-1]=e.b);return n.putImageData(i,0,0),t},newColorIndex(){while(1){let t=this.randomColor();if(!this.shapes[t.rgb])return t}},randomColor(){const t=Math.round(255*Math.random()),e=Math.round(255*Math.random()),n=Math.round(255*Math.random());return{r:t,g:e,b:n,rgb:`rgb(${t},${e},${n})`}},setCtx(t,e){for(let n in e)t[n]=e[n];return t},cloneCanvas(t){let e=document.createElement("canvas"),n=e.getContext("2d");return e.width=t.width,e.height=t.height,n.drawImage(t,0,0),e},Sprite(t,e){return this.sprites[t]||(this.sprites[t]=e()),this.sprites[t]},getCssStyles(){let t=Xt.create("svg","css-picker");for(let e in this.styles){let n=this.styles[e]||{};n=Xt.fillStyle(n,t)}document.body.removeChild(t),this.stylesReady=!0},loadNodeStyle(t){let e="node",n=this.selected[t.id];if(n&&(e="nodeSelected"),t.pinned&&(e="nodePinned"),n&&t.pinned&&(e="nodeSelectedPinned"),t._cssClass){let n=e+"-"+t._cssClass;if(!this.styles[n]){let i=Object.assign({},this.styles[e]||{});i._cssClass=i._cssClass||"",i._cssClass+=" "+t._cssClass,this.updateStyle(n,i)}e=n}let i=Object.assign({},this.styles[e]||this.updateStyle(e));return t._color&&(i.fillStyle=t._color,i._cssStyle="fill:"+t._color),t._cssClass&&(i._cssClass+=" "+t._cssClass),i},updateStyle(t,e){e=e||this.styles[t]||{};let n=Xt.create("svg","css-picker");return e=Xt.fillStyle(e,n),this.styles[t]=e,document.body.removeChild(n),e},getCssColor(t){let e=Xt.create("div","color-picker"),n=e.id;e.setAttribute("style","background-color:"+t);let i=Xt.mapStyle(n,{fillStyle:"background-color"},[]);return document.body.removeChild(e),i},labelStyle(t){let e=this.styles.labels,n=t._labelClass;if(n){let t="labels-"+n,i=this.styles[t];i||(i=Object.assign({},e),i._cssClass+=" "+n,i=this.updateStyle(t,i)),e=i}return e}}};const Yt=(0,Dt.Z)(Ht,[["render",Wt]]);var Qt=Yt,Zt={save(t,e){t&&(t=this.dataURIToBlob(t,(t=>{let n=URL.createObjectURL(t);this.download(n,e)})))},dataURIToBlob(t,e){let n=atob(t.split(",")[1]),i=n.length,s=new Uint8Array(i);for(var r=0;r<i;r++)s[r]=n.charCodeAt(r);e(new Blob([s]))},download(t,e){e=e||"";let n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download",e);let i=document.body.appendChild(n);n.click(),document.body.removeChild(i)}};const Gt=Object.assign({},t);var Jt={name:"d3-network",components:{canvasRenderer:Qt,svgRenderer:Ut},props:{netNodes:{type:Array},netLinks:{type:Array},options:{type:Object},nodeSym:{type:String},nodeCb:{type:Function},linkCb:{type:Function},simCb:{type:Function},customForces:{type:Object},selection:{type:Object,default:()=>({nodes:{},links:{}})}},data(){return{canvas:!1,nodes:[],links:[],size:{w:500,h:500},offset:{x:0,y:0},clientOffset:{x:0,y:0},force:500,forces:{Center:!1,X:.5,Y:.5,ManyBody:!0,Link:!0},noNodes:!1,strLinks:!0,fontSize:10,dragging:!1,linkWidth:1,nodeLabels:!1,linkLabels:!1,nodeSize:5,mouseOfst:{x:0,y:0},padding:{x:0,y:0},simulation:null,nodeSvg:null,resizeListener:!0}},render(){let t="svg",e={},n=Ut,i=["size","nodes","links","selected","linksSelected","strLinks","linkWidth","nodeLabels","linkLabels","fontSize","labelOffset","offset","padding","nodeSize","noNodes"];for(let s of i)e[s]=this[s];return e.nodeSym=this.nodeSvg,this.canvas&&(n=Qt,t="canvas",e.canvasStyles=this.options.canvasStyles),(0,zt.h)("div",{class:["net"],onMouseMove:this.move,onTouchMove:this.move},[(0,zt.h)(n,{props:e,ref:t,onAction:this.methodCall})])},created(){this.updateOptions(this.options),this.buildNodes(this.netNodes),this.links=this.buildLinks(this.netLinks),this.updateNodeSvg()},mounted(){this.onResize(),this.$nextTick((()=>{this.animate()})),this.resizeListener&&window.addEventListener("resize",this.onResize)},beforeUnmount(){this.resizeListener&&window.removeEventListener("resize",this.onResize)},computed:{selected(){return this.selection.nodes},linksSelected(){return this.selection.links},center(){return{x:this.size.w/2+this.size.w/200+this.offset.x,y:this.size.h/2+this.size.h/200+this.offset.y}},labelOffset(){return{x:this.nodeSize/2+this.fontSize/2,y:this.fontSize/2}}},emits:["node-click","link-click"],watch:{netNodes(t){this.buildNodes(t),this.reset()},netLinks(t,e){this.links=this.buildLinks(t),this.reset()},nodeSym(){this.updateNodeSvg()},options(t,e){this.updateOptions(t),e.size&&t.size&&(e.size.w===t.size.w&&e.size.h===t.size.h||this.onResize()),this.animate()}},methods:{updateNodeSvg(){let t=null;this.nodeSym&&(t=Rt.svgElFromString(this.nodeSym)),this.nodeSvg=t},methodCall(t,e){let n=this[t];n&&"function"===typeof n&&(e?n(...e):n())},onResize(){let t=this.options.size;t&&t.w||(this.size.w=this.$el.clientWidth),t&&t.h||(this.size.h=this.$el.clientHeight),this.padding.x=0,this.padding.y=0;let e=this;while(e.$parent)this.padding.x+=e.$el.offsetLeft||0,this.padding.y+=e.$el.offsetTop||0,e=e.$parent;this.animate()},updateOptions(t){for(let e in t)"undefined"!==typeof this[e]&&(this[e]=t[e])},buildNodes(t){this.nodes=t.map(((t,e)=>(t=this.itemCb(this.nodeCb,t),t.id||0===t.id||(t.id=e),t.x||(t.x=0),t.y||(t.y=0),t.name||"0"===t.name||(t.name="node "+t.id),t.svgSym&&(t.svgIcon=Rt.svgElFromString(t.svgSym),this.canvas||!t.svgIcon||t.svgObj||(t.svgObj=Rt.toObject(t.svgIcon))),t)))},buildLinks(t){return t.concat().map(((t,e)=>(t=this.itemCb(this.linkCb,t),t.source=t.sid,t.target=t.tid,t.id||(t.id="link-"+e),t)))},itemCb(t,e){return t&&"function"===typeof t&&(e=t(e)),e},simulate(t,e){let n=this.forces,i=Gt.forceSimulation().stop().alpha(.5).nodes(t);return!1!==n.Center&&i.force("center",Gt.forceCenter(this.center.x,this.center.y)),!1!==n.X&&i.force("X",Gt.forceX(this.center.x).strength(n.X)),!1!==n.Y&&i.force("Y",Gt.forceY(this.center.y).strength(n.Y)),!1!==n.ManyBody&&i.force("charge",Gt.forceManyBody().strength(-this.force)),!1!==n.Link&&i.force("link",Gt.forceLink(e).id((function(t){return t.id}))),i=this.setCustomForces(i),i=this.itemCb(this.simCb,i),i},setCustomForces(t){let e=this.customForces;if(e)for(let n in e){let i=this.getD3Func("force"+n);if(i){let s=e[n];t.force("custom"+n,i(...s))}}return t},getD3Func(t){let e=Gt[t];return e&&"function"===typeof e?e:null},animate(){this.simulation&&this.simulation.stop(),!1!==this.forces.Link?this.simulation=this.simulate(this.nodes,this.links):this.simulation=this.simulate(this.nodes),this.simulation.restart()},reset(){this.animate(),this.nodes=this.simulation.nodes(),this.forces.links&&(this.links=this.simulation.force("link").links())},move(t){let e=this.clientPos(t);!1!==this.dragging&&this.nodes[this.dragging]&&(this.simulation.restart(),this.simulation.alpha(.5),this.nodes[this.dragging].fx=e.x-this.mouseOfst.x,this.nodes[this.dragging].fy=e.y-this.mouseOfst.y)},clientPos(t){let e=t.touches?t.touches[0].clientX:t.clientX,n=t.touches?t.touches[0].clientY:t.clientY;return e=e||0,n=n||0,{x:e,y:n}},dragStart(t,e){this.dragging=!1!==e&&e,this.setMouseOffset(t,this.nodes[e]),!1===this.dragging&&(this.simulation.alpha(.1),this.simulation.restart(),this.setMouseOffset())},dragEnd(){let t=this.nodes[this.dragging];t&&!t.pinned&&(t.fx=null,t.fy=null),this.dragStart(!1)},nodeClick(t,e){this.$emit("node-click",t,e)},linkClick(t,e){this.$emit("link-click",t,e)},setMouseOffset(t,e){let n=0,i=0;if(t&&e){let s=this.clientPos(t);n=s.x?s.x-e.x:e.x,i=s.y?s.y-e.y:e.y}this.mouseOfst={x:n,y:i}},screenShot(t,e,n,i){let s,r=[];this.canvas?(n=!1,s=this.$refs.canvas.canvasScreenShot,r=[e]):(s=this.$refs.svg.svgScreenShot,r=[n,e,i]),n&&(t=t||"export.svg"),s(((e,i)=>{e||(n?Zt.download(i,t):Zt.save(i,t)),this.$emit("screen-shot",e)}),...r)}}};const Kt=Jt;var te=Kt,ee=te}(),s=s["default"],s}()}));
//# sourceMappingURL=vue-d3-network.umd.min.js.map