{"version":3,"file":"vue-d3-network.umd.min.js","mappings":"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","sources":["webpack://vue-d3-network/webpack/universalModuleDefinition","webpack://vue-d3-network/./node_modules/@soda/get-current-script/index.js","webpack://vue-d3-network/./node_modules/vue-loader/dist/exportHelper.js","webpack://vue-d3-network/external umd {\"commonjs\":\"vue\",\"commonjs2\":\"vue\",\"root\":\"Vue\"}","webpack://vue-d3-network/webpack/bootstrap","webpack://vue-d3-network/webpack/runtime/define property getters","webpack://vue-d3-network/webpack/runtime/hasOwnProperty shorthand","webpack://vue-d3-network/webpack/runtime/make namespace object","webpack://vue-d3-network/webpack/runtime/publicPath","webpack://vue-d3-network/./node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js","webpack://vue-d3-network/./node_modules/d3-force/src/center.js","webpack://vue-d3-network/./node_modules/d3-force/src/constant.js","webpack://vue-d3-network/./node_modules/d3-force/src/jiggle.js","webpack://vue-d3-network/./node_modules/d3-quadtree/src/add.js","webpack://vue-d3-network/./node_modules/d3-quadtree/src/cover.js","webpack://vue-d3-network/./node_modules/d3-quadtree/src/data.js","webpack://vue-d3-network/./node_modules/d3-quadtree/src/extent.js","webpack://vue-d3-network/./node_modules/d3-quadtree/src/quad.js","webpack://vue-d3-network/./node_modules/d3-quadtree/src/find.js","webpack://vue-d3-network/./node_modules/d3-quadtree/src/remove.js","webpack://vue-d3-network/./node_modules/d3-quadtree/src/root.js","webpack://vue-d3-network/./node_modules/d3-quadtree/src/size.js","webpack://vue-d3-network/./node_modules/d3-quadtree/src/visit.js","webpack://vue-d3-network/./node_modules/d3-quadtree/src/visitAfter.js","webpack://vue-d3-network/./node_modules/d3-quadtree/src/x.js","webpack://vue-d3-network/./node_modules/d3-quadtree/src/y.js","webpack://vue-d3-network/./node_modules/d3-quadtree/src/quadtree.js","webpack://vue-d3-network/./node_modules/d3-force/src/collide.js","webpack://vue-d3-network/./node_modules/d3-collection/src/map.js","webpack://vue-d3-network/./node_modules/d3-collection/src/set.js","webpack://vue-d3-network/./node_modules/d3-force/src/link.js","webpack://vue-d3-network/./node_modules/d3-dispatch/src/dispatch.js","webpack://vue-d3-network/./node_modules/d3-timer/src/timer.js","webpack://vue-d3-network/./node_modules/d3-force/src/simulation.js","webpack://vue-d3-network/./node_modules/d3-force/src/manyBody.js","webpack://vue-d3-network/./node_modules/d3-force/src/radial.js","webpack://vue-d3-network/./node_modules/d3-force/src/x.js","webpack://vue-d3-network/./node_modules/d3-force/src/y.js","webpack://vue-d3-network/./src/components/svgRenderer.vue","webpack://vue-d3-network/./src/lib/js/svgExport.js","webpack://vue-d3-network/./src/components/svgRenderer.vue?4790","webpack://vue-d3-network/./src/components/canvasRenderer.vue","webpack://vue-d3-network/./src/lib/js/canvasStyles.js","webpack://vue-d3-network/./src/lib/js/stylePicker.js","webpack://vue-d3-network/./src/components/canvasRenderer.vue?dd7a","webpack://vue-d3-network/./src/lib/js/saveImage.js","webpack://vue-d3-network/./src/vue-d3-network.vue","webpack://vue-d3-network/./src/vue-d3-network.vue?1c28","webpack://vue-d3-network/./node_modules/@vue/cli-service/lib/commands/build/entry-lib.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vue\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"vue-d3-network\"] = factory(require(\"vue\"));\n\telse\n\t\troot[\"vue-d3-network\"] = factory(root[\"Vue\"]);\n})((typeof self !== 'undefined' ? self : this), function(__WEBPACK_EXTERNAL_MODULE__203__) {\nreturn ","// addapted from the document.currentScript polyfill by Adam Miller\n// MIT license\n// source: https://github.com/amiller-gh/currentScript-polyfill\n\n// added support for Firefox https://bugzilla.mozilla.org/show_bug.cgi?id=1620505\n\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof module === 'object' && module.exports) {\n    module.exports = factory();\n  } else {\n    root.getCurrentScript = factory();\n  }\n}(typeof self !== 'undefined' ? self : this, function () {\n  function getCurrentScript () {\n    var descriptor = Object.getOwnPropertyDescriptor(document, 'currentScript')\n    // for chrome\n    if (!descriptor && 'currentScript' in document && document.currentScript) {\n      return document.currentScript\n    }\n\n    // for other browsers with native support for currentScript\n    if (descriptor && descriptor.get !== getCurrentScript && document.currentScript) {\n      return document.currentScript\n    }\n  \n    // IE 8-10 support script readyState\n    // IE 11+ & Firefox support stack trace\n    try {\n      throw new Error();\n    }\n    catch (err) {\n      // Find the second match for the \"at\" string to get file src url from stack.\n      var ieStackRegExp = /.*at [^(]*\\((.*):(.+):(.+)\\)$/ig,\n        ffStackRegExp = /@([^@]*):(\\d+):(\\d+)\\s*$/ig,\n        stackDetails = ieStackRegExp.exec(err.stack) || ffStackRegExp.exec(err.stack),\n        scriptLocation = (stackDetails && stackDetails[1]) || false,\n        line = (stackDetails && stackDetails[2]) || false,\n        currentLocation = document.location.href.replace(document.location.hash, ''),\n        pageSource,\n        inlineScriptSourceRegExp,\n        inlineScriptSource,\n        scripts = document.getElementsByTagName('script'); // Live NodeList collection\n  \n      if (scriptLocation === currentLocation) {\n        pageSource = document.documentElement.outerHTML;\n        inlineScriptSourceRegExp = new RegExp('(?:[^\\\\n]+?\\\\n){0,' + (line - 2) + '}[^<]*<script>([\\\\d\\\\D]*?)<\\\\/script>[\\\\d\\\\D]*', 'i');\n        inlineScriptSource = pageSource.replace(inlineScriptSourceRegExp, '$1').trim();\n      }\n  \n      for (var i = 0; i < scripts.length; i++) {\n        // If ready state is interactive, return the script tag\n        if (scripts[i].readyState === 'interactive') {\n          return scripts[i];\n        }\n  \n        // If src matches, return the script tag\n        if (scripts[i].src === scriptLocation) {\n          return scripts[i];\n        }\n  \n        // If inline source matches, return the script tag\n        if (\n          scriptLocation === currentLocation &&\n          scripts[i].innerHTML &&\n          scripts[i].innerHTML.trim() === inlineScriptSource\n        ) {\n          return scripts[i];\n        }\n      }\n  \n      // If no match, return null\n      return null;\n    }\n  };\n\n  return getCurrentScript\n}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","module.exports = __WEBPACK_EXTERNAL_MODULE__203__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","/* eslint-disable no-var */\n// This file is imported into lib/wc client bundles.\n\nif (typeof window !== 'undefined') {\n  var currentScript = window.document.currentScript\n  if (process.env.NEED_CURRENTSCRIPT_POLYFILL) {\n    var getCurrentScript = require('@soda/get-current-script')\n    currentScript = getCurrentScript()\n\n    // for backward compatibility, because previously we directly included the polyfill\n    if (!('currentScript' in document)) {\n      Object.defineProperty(document, 'currentScript', { get: getCurrentScript })\n    }\n  }\n\n  var src = currentScript && currentScript.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/)\n  if (src) {\n    __webpack_public_path__ = src[1] // eslint-disable-line\n  }\n}\n\n// Indicate to webpack that this file can be concatenated\nexport default null\n","export default function(x, y) {\n  var nodes;\n\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n\n  function force() {\n    var i,\n        n = nodes.length,\n        node,\n        sx = 0,\n        sy = 0;\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], sx += node.x, sy += node.y;\n    }\n\n    for (sx = sx / n - x, sy = sy / n - y, i = 0; i < n; ++i) {\n      node = nodes[i], node.x -= sx, node.y -= sy;\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  return force;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function() {\n  return (Math.random() - 0.5) * 1e-6;\n}\n","export default function(d) {\n  var x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries dont change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1) {\n      i = (y < y0) << 1 | (x < x0);\n      parent = new Array(4), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z, y1 = y0 + z; break;\n        case 1: x0 = x1 - z, y1 = y0 + z; break;\n        case 2: x1 = x0 + z, y0 = y1 - z; break;\n        case 3: x0 = x1 - z, y0 = y1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n","export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant cant contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isnt necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add.js\";\nimport tree_cover from \"./cover.js\";\nimport tree_data from \"./data.js\";\nimport tree_extent from \"./extent.js\";\nimport tree_find from \"./find.js\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove.js\";\nimport tree_root from \"./root.js\";\nimport tree_size from \"./size.js\";\nimport tree_visit from \"./visit.js\";\nimport tree_visitAfter from \"./visitAfter.js\";\nimport tree_x, {defaultX} from \"./x.js\";\nimport tree_y, {defaultY} from \"./y.js\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n","import constant from \"./constant\";\nimport jiggle from \"./jiggle\";\nimport {quadtree} from \"d3-quadtree\";\n\nfunction x(d) {\n  return d.x + d.vx;\n}\n\nfunction y(d) {\n  return d.y + d.vy;\n}\n\nexport default function(radius) {\n  var nodes,\n      radii,\n      strength = 1,\n      iterations = 1;\n\n  if (typeof radius !== \"function\") radius = constant(radius == null ? 1 : +radius);\n\n  function force() {\n    var i, n = nodes.length,\n        tree,\n        node,\n        xi,\n        yi,\n        ri,\n        ri2;\n\n    for (var k = 0; k < iterations; ++k) {\n      tree = quadtree(nodes, x, y).visitAfter(prepare);\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        ri = radii[node.index], ri2 = ri * ri;\n        xi = node.x + node.vx;\n        yi = node.y + node.vy;\n        tree.visit(apply);\n      }\n    }\n\n    function apply(quad, x0, y0, x1, y1) {\n      var data = quad.data, rj = quad.r, r = ri + rj;\n      if (data) {\n        if (data.index > node.index) {\n          var x = xi - data.x - data.vx,\n              y = yi - data.y - data.vy,\n              l = x * x + y * y;\n          if (l < r * r) {\n            if (x === 0) x = jiggle(), l += x * x;\n            if (y === 0) y = jiggle(), l += y * y;\n            l = (r - (l = Math.sqrt(l))) / l * strength;\n            node.vx += (x *= l) * (r = (rj *= rj) / (ri2 + rj));\n            node.vy += (y *= l) * r;\n            data.vx -= x * (r = 1 - r);\n            data.vy -= y * r;\n          }\n        }\n        return;\n      }\n      return x0 > xi + r || x1 < xi - r || y0 > yi + r || y1 < yi - r;\n    }\n  }\n\n  function prepare(quad) {\n    if (quad.data) return quad.r = radii[quad.data.index];\n    for (var i = quad.r = 0; i < 4; ++i) {\n      if (quad[i] && quad[i].r > quad.r) {\n        quad.r = quad[i].r;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    radii = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], radii[node.index] = +radius(node, i, nodes);\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  return force;\n}\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume its an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","import constant from \"./constant\";\nimport jiggle from \"./jiggle\";\nimport {map} from \"d3-collection\";\n\nfunction index(d) {\n  return d.index;\n}\n\nfunction find(nodeById, nodeId) {\n  var node = nodeById.get(nodeId);\n  if (!node) throw new Error(\"missing: \" + nodeId);\n  return node;\n}\n\nexport default function(links) {\n  var id = index,\n      strength = defaultStrength,\n      strengths,\n      distance = constant(30),\n      distances,\n      nodes,\n      count,\n      bias,\n      iterations = 1;\n\n  if (links == null) links = [];\n\n  function defaultStrength(link) {\n    return 1 / Math.min(count[link.source.index], count[link.target.index]);\n  }\n\n  function force(alpha) {\n    for (var k = 0, n = links.length; k < iterations; ++k) {\n      for (var i = 0, link, source, target, x, y, l, b; i < n; ++i) {\n        link = links[i], source = link.source, target = link.target;\n        x = target.x + target.vx - source.x - source.vx || jiggle();\n        y = target.y + target.vy - source.y - source.vy || jiggle();\n        l = Math.sqrt(x * x + y * y);\n        l = (l - distances[i]) / l * alpha * strengths[i];\n        x *= l, y *= l;\n        target.vx -= x * (b = bias[i]);\n        target.vy -= y * b;\n        source.vx += x * (b = 1 - b);\n        source.vy += y * b;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n\n    var i,\n        n = nodes.length,\n        m = links.length,\n        nodeById = map(nodes, id),\n        link;\n\n    for (i = 0, count = new Array(n); i < m; ++i) {\n      link = links[i], link.index = i;\n      if (typeof link.source !== \"object\") link.source = find(nodeById, link.source);\n      if (typeof link.target !== \"object\") link.target = find(nodeById, link.target);\n      count[link.source.index] = (count[link.source.index] || 0) + 1;\n      count[link.target.index] = (count[link.target.index] || 0) + 1;\n    }\n\n    for (i = 0, bias = new Array(m); i < m; ++i) {\n      link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n    }\n\n    strengths = new Array(m), initializeStrength();\n    distances = new Array(m), initializeDistance();\n  }\n\n  function initializeStrength() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      strengths[i] = +strength(links[i], i, links);\n    }\n  }\n\n  function initializeDistance() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      distances[i] = +distance(links[i], i, links);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.links = function(_) {\n    return arguments.length ? (links = _, initialize(), force) : links;\n  };\n\n  force.id = function(_) {\n    return arguments.length ? (id = _, force) : id;\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initializeStrength(), force) : strength;\n  };\n\n  force.distance = function(_) {\n    return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant(+_), initializeDistance(), force) : distance;\n  };\n\n  return force;\n}\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {map} from \"d3-collection\";\nimport {timer} from \"d3-timer\";\n\nexport function x(d) {\n  return d.x;\n}\n\nexport function y(d) {\n  return d.y;\n}\n\nvar initialRadius = 10,\n    initialAngle = Math.PI * (3 - Math.sqrt(5));\n\nexport default function(nodes) {\n  var simulation,\n      alpha = 1,\n      alphaMin = 0.001,\n      alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n      alphaTarget = 0,\n      velocityDecay = 0.6,\n      forces = map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\");\n\n  if (nodes == null) nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick(iterations) {\n    var i, n = nodes.length, node;\n\n    if (iterations === undefined) iterations = 1;\n\n    for (var k = 0; k < iterations; ++k) {\n      alpha += (alphaTarget - alpha) * alphaDecay;\n\n      forces.each(function (force) {\n        force(alpha);\n      });\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        if (node.fx == null) node.x += node.vx *= velocityDecay;\n        else node.x = node.fx, node.vx = 0;\n        if (node.fy == null) node.y += node.vy *= velocityDecay;\n        else node.y = node.fy, node.vy = 0;\n      }\n    }\n\n    return simulation;\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (node.fx != null) node.x = node.fx;\n      if (node.fy != null) node.y = node.fy;\n      if (isNaN(node.x) || isNaN(node.y)) {\n        var radius = initialRadius * Math.sqrt(i), angle = i * initialAngle;\n        node.x = radius * Math.cos(angle);\n        node.y = radius * Math.sin(angle);\n      }\n      if (isNaN(node.vx) || isNaN(node.vy)) {\n        node.vx = node.vy = 0;\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes);\n    return force;\n  }\n\n  initializeNodes();\n\n  return simulation = {\n    tick: tick,\n\n    restart: function() {\n      return stepper.restart(step), simulation;\n    },\n\n    stop: function() {\n      return stepper.stop(), simulation;\n    },\n\n    nodes: function(_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.each(initializeForce), simulation) : nodes;\n    },\n\n    alpha: function(_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n\n    alphaMin: function(_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n\n    alphaDecay: function(_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n\n    alphaTarget: function(_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n\n    velocityDecay: function(_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n\n    force: function(name, _) {\n      return arguments.length > 1 ? ((_ == null ? forces.remove(name) : forces.set(name, initializeForce(_))), simulation) : forces.get(name);\n    },\n\n    find: function(x, y, radius) {\n      var i = 0,\n          n = nodes.length,\n          dx,\n          dy,\n          d2,\n          node,\n          closest;\n\n      if (radius == null) radius = Infinity;\n      else radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - node.y;\n        d2 = dx * dx + dy * dy;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n\n    on: function(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}\n","import constant from \"./constant\";\nimport jiggle from \"./jiggle\";\nimport {quadtree} from \"d3-quadtree\";\nimport {x, y} from \"./simulation\";\n\nexport default function() {\n  var nodes,\n      node,\n      alpha,\n      strength = constant(-30),\n      strengths,\n      distanceMin2 = 1,\n      distanceMax2 = Infinity,\n      theta2 = 0.81;\n\n  function force(_) {\n    var i, n = nodes.length, tree = quadtree(nodes, x, y).visitAfter(accumulate);\n    for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    strengths = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n  }\n\n  function accumulate(quad) {\n    var strength = 0, q, c, weight = 0, x, y, i;\n\n    // For internal nodes, accumulate forces from child quadrants.\n    if (quad.length) {\n      for (x = y = i = 0; i < 4; ++i) {\n        if ((q = quad[i]) && (c = Math.abs(q.value))) {\n          strength += q.value, weight += c, x += c * q.x, y += c * q.y;\n        }\n      }\n      quad.x = x / weight;\n      quad.y = y / weight;\n    }\n\n    // For leaf nodes, accumulate forces from coincident quadrants.\n    else {\n      q = quad;\n      q.x = q.data.x;\n      q.y = q.data.y;\n      do strength += strengths[q.data.index];\n      while (q = q.next);\n    }\n\n    quad.value = strength;\n  }\n\n  function apply(quad, x1, _, x2) {\n    if (!quad.value) return true;\n\n    var x = quad.x - node.x,\n        y = quad.y - node.y,\n        w = x2 - x1,\n        l = x * x + y * y;\n\n    // Apply the Barnes-Hut approximation if possible.\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (w * w / theta2 < l) {\n      if (l < distanceMax2) {\n        if (x === 0) x = jiggle(), l += x * x;\n        if (y === 0) y = jiggle(), l += y * y;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n        node.vx += x * quad.value * alpha / l;\n        node.vy += y * quad.value * alpha / l;\n      }\n      return true;\n    }\n\n    // Otherwise, process points directly.\n    else if (quad.length || l >= distanceMax2) return;\n\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (quad.data !== node || quad.next) {\n      if (x === 0) x = jiggle(), l += x * x;\n      if (y === 0) y = jiggle(), l += y * y;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n    }\n\n    do if (quad.data !== node) {\n      w = strengths[quad.data.index] * alpha / l;\n      node.vx += x * w;\n      node.vy += y * w;\n    } while (quad = quad.next);\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.distanceMin = function(_) {\n    return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n  };\n\n  force.distanceMax = function(_) {\n    return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n  };\n\n  force.theta = function(_) {\n    return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n  };\n\n  return force;\n}\n","import constant from \"./constant\";\n\nexport default function(radius, x, y) {\n  var nodes,\n      strength = constant(0.1),\n      strengths,\n      radiuses;\n\n  if (typeof radius !== \"function\") radius = constant(+radius);\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length; i < n; ++i) {\n      var node = nodes[i],\n          dx = node.x - x || 1e-6,\n          dy = node.y - y || 1e-6,\n          r = Math.sqrt(dx * dx + dy * dy),\n          k = (radiuses[i] - r) * strengths[i] * alpha / r;\n      node.vx += dx * k;\n      node.vy += dy * k;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    radiuses = new Array(n);\n    for (i = 0; i < n; ++i) {\n      radiuses[i] = +radius(nodes[i], i, nodes);\n      strengths[i] = isNaN(radiuses[i]) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _, initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  return force;\n}\n","import constant from \"./constant\";\n\nexport default function(x) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      xz;\n\n  if (typeof x !== \"function\") x = constant(x == null ? 0 : +x);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vx += (xz[i] - node.x) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    xz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(xz[i] = +x(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : x;\n  };\n\n  return force;\n}\n","import constant from \"./constant\";\n\nexport default function(y) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      yz;\n\n  if (typeof y !== \"function\") y = constant(y == null ? 0 : +y);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vy += (yz[i] - node.y) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    yz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(yz[i] = +y(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : y;\n  };\n\n  return force;\n}\n","<template>\n  <svg\n    ref=\"svg\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n    :width=\"size.w\"\n    :height=\"size.h\"\n    class=\"net-svg\"\n    @mouseup=\"emit('dragEnd', [$event])\"\n    @touchend.passive=\"emit('dragEnd', [$event])\"\n  >\n    <g\n      id=\"l-links\"\n      class=\"links\"\n    >\n      <path\n        v-for=\"link in links\"\n        :key=\"link.id\"\n        :id=\"link.id\"\n        :d=\"linkPath(link)\"\n        v-bind=\"linkAttrs(link)\"\n        :class=\"linkClass(link.id)\"\n        :style=\"linkStyle(link)\"\n        @click=\"emit('linkClick', [$event,link])\"\n        @touchstart.passive=\"emit('linkClick', [$event,link])\"\n      />\n    </g>\n    <g\n      v-if=\"!noNodes\"\n      id=\"l-nodes\"\n      class=\"nodes\"\n    >\n      <template\n        v-for=\"(node, key) in nodes\"\n        :key=\"key\"\n      >\n        <svg\n          v-if=\"svgIcon(node)\"\n          :viewBox=\"svgIcon(node).attrs.viewBox\"\n          :width=\"getNodeSize(node, 'width')\"\n          :height=\"getNodeSize(node, 'height')\"\n          :x=\"node.x - getNodeSize(node, 'width') / 2\"\n          :y=\"node.y - getNodeSize(node, 'height') / 2\"\n          :style=\"nodeStyle(node)\"\n          :title=\"node.name\"\n          :class=\"nodeClass(node,['node-svg'])\"\n          v-bind=\"node._svgAttrs\"\n          @click=\"emit('nodeClick',[$event,node])\"\n          @touchend.passive=\"emit('nodeClick',[$event,node])\"\n          @mousedown.prevent=\"emit('dragStart',[$event,key])\"\n          @touchstart.prevent=\"emit('dragStart',[$event,key])\"\n          v-html=\"svgIcon(node).data\"\n        />\n        <circle\n          v-else\n          :r=\"getNodeSize(node) / 2\"\n          :cx=\"node.x\"\n          :cy=\"node.y\"\n          :style=\"nodeStyle(node)\"\n          :title=\"node.name\"\n          :class=\"nodeClass(node)\"\n          v-bind=\"node._svgAttrs\"\n          @click=\"emit('nodeClick',[$event,node])\"\n          @touchend.passive=\"emit('nodeClick',[$event,node])\"\n          @mousedown.prevent=\"emit('dragStart',[$event,key])\"\n          @touchstart.prevent=\"emit('dragStart',[$event,key])\"\n        />\n      </template>\n    </g>\n\n    <g\n      v-if=\"linkLabels\"\n      id=\"link-labels\"\n      class=\"labels\"\n    >\n      <text \n        v-for=\"link in links\"\n        :key=\"link.id\"\n        class=\"link-label\"\n        fontSize=\"fontSize\"\n      >\n        <textPath\n          :xlink:href=\"'#' + link.id\"\n          startOffset=\"50%\"\n        >\n          {{ link.name }}\n        </textPath>\n      </text>\n    </g>\n\n    <g\n      v-if=\"nodeLabels\"\n      id=\"node-labels\"\n      class=\"labels\"\n    >\n      <text \n        v-for=\"node in nodes\"\n        :key=\"node.id\"\n        class=\"node-label\"\n        :x=\"node.x + (getNodeSize(node) / 2) + (fontSize / 2)\"\n        :y=\"node.y + labelOffset.y\"\n        :font-size=\"fontSize\"\n        :class=\"(node._labelClass) ? node._labelClass : ''\"\n        :stroke-width=\"fontSize / 8\"\n      >\n        {{ node.name }}\n      </text>\n    </g>\n  </svg>\n</template>\n\n<script>\nimport svgExport from '../lib/js/svgExport.js'\n\nexport default {\n  name: 'SvgRenderer',\n  props: [\n    'size',\n    'nodes',\n    'noNodes',\n    'selected',\n    'linksSelected',\n    'links',\n    'nodeSize',\n    'padding',\n    'fontSize',\n    'strLinks',\n    'linkWidth',\n    'nodeLabels',\n    'linkLabels',\n    'labelOffset',\n    'nodeSym'\n  ],\n  computed: {\n    nodeSvg () {\n      if (this.nodeSym) {\n        return svgExport.toObject(this.nodeSym)\n      }\n      return null\n    }\n  },\n  methods: {\n    getNodeSize (node, side) {\n      let size = node._size || this.nodeSize\n      if (side) size = node['_' + side] || size\n      return size\n    },\n    svgIcon (node) {\n      return node.svgObj || this.nodeSvg\n    },\n    emit (e, args) {\n      this.$emit('action', e, args)\n    },\n    svgScreenShot (cb, toSvg, background, allCss) {\n      let svg = svgExport.export(this.$refs.svg, allCss)\n      if (!toSvg) {\n        if (!background) background = this.searchBackground()\n        let canvas = svgExport.makeCanvas(this.size.w, this.size.h, background)\n        svgExport.svgToImg(svg, canvas, (err, img) => {\n          if (err) cb(err)\n          else cb(null, img)\n        })\n      } else {\n        cb(null, svgExport.save(svg))\n      }\n    },\n    linkClass (linkId) {\n      let cssClass = ['link']\n      if (this.linksSelected.hasOwnProperty(linkId)) {\n        cssClass.push('selected')\n      }\n      if (!this.strLinks) {\n        cssClass.push('curve')\n      }\n      return cssClass\n    },\n    linkPath (link) {\n      let d = {\n        M: [link.source.x | 0, link.source.y | 0],\n        X: [link.target.x | 0, link.target.y | 0]\n      }\n      if (this.strLinks) {\n        return 'M ' + d.M.join(' ') + ' L' + d.X.join(' ')\n      } else {\n        d.Q = [link.source.x, link.target.y]\n        return 'M ' + d.M + ' Q ' + d.Q.join(' ') + ' ' + d.X\n      }\n    },\n    nodeStyle (node) {\n      return (node._color) ? 'fill: ' + node._color : ''\n    },\n    linkStyle (link) {\n      let style = {}\n      if (link._color) style.stroke = link._color\n      return style\n    },\n    nodeClass (node, classes = []) {\n      let cssClass = (node._cssClass) ? node._cssClass : []\n      if (!Array.isArray(cssClass)) cssClass = [cssClass]\n      cssClass.push('node')\n      classes.forEach(c => cssClass.push(c))\n      if (this.selected[node.id]) cssClass.push('selected')\n      if (node.fx || node.fy) cssClass.push('pinned')\n      return cssClass\n    },\n    searchBackground () {\n      let vm = this\n      while (vm.$parent) {\n        let style = window.getComputedStyle(vm.$el)\n        let background = style.getPropertyValue('background-color')\n        let rgb = background.replace(/[^\\d,]/g, '').split(',')\n        let sum = rgb.reduce((a, b) => parseInt(a) + parseInt(b), 0)\n        if (sum > 0) return background\n        vm = vm.$parent\n      }\n      return 'white'\n    },\n    spriteSymbol () {\n      let svg = this.nodeSym\n      if (svg) {\n        return svgExport.toSymbol(svg)\n      }\n    },\n    linkAttrs (link) {\n      let attrs = link._svgAttrs || {}\n      attrs['stroke-width'] = attrs['stroke-width'] || this.linkWidth\n      return attrs\n    }\n  }\n}\n</script>\n","/* eslint-disable */\nexport default {\n  NS: 'http://www.w3.org/2000/svg',\n  // svgOrg: svg element\n  // allCss : true includes all svg css styles, false includes only matched styles\n  export (svgOrg, allCss) {\n    let svg = null\n    if (this.isSvgData(svgOrg)) {\n      svg = svgOrg.cloneNode(true)\n      let childs = svgOrg.parentNode.querySelectorAll('*')\n      let cssStyle = {}\n      let rules = this.getcssRules()\n\n      for (let child of childs) {\n        let elRules = rules\n        if (!allCss) {\n          elRules = rules.filter((rule) => {\n            return child.matches(rule.selectorText)\n          })\n        }\n        for (let rule of elRules) {\n          cssStyle[rule.selectorText] = rule.cssText\n        }\n      }\n      let css = Object.values(cssStyle).join('\\n')\n      if (css) {\n        let style = document.createElementNS(this.NS, 'style')\n        style.type = 'text/css'\n        svg.insertBefore(style, svg.childNodes[0])\n        style.innerHTML = css\n        svg.appendChild(style)\n      }\n    }\n    return svg\n  },\n\n  makeCanvas (width, height, background) {\n    let canvas = document.createElement('canvas')\n    canvas.width = width\n    canvas.height = height\n    let ctx = canvas.getContext('2d')\n    ctx.fillStyle = background || 'white'\n    ctx.fillRect(0, 0, canvas.width, canvas.height)\n    return canvas\n  },\n\n  serialize (svg) {\n    return (new XMLSerializer()).serializeToString(svg)\n  },\n\n  svgToImg (svg, canvas, cb) {\n    let xml = this.serialize(svg)\n    let img = new Image()\n    let ctx = canvas.getContext('2d')\n    img.onload = function () {\n      ctx.drawImage(this, 0, 0)\n      let png = canvas.toDataURL('image/png')\n      cb(null, png, ctx)\n    }\n    img.onerror = function (err) {\n      cb(err)\n    }\n    img.src = 'data:image/svg+xml;base64,' + btoa(unescape(encodeURIComponent(xml)))\n  },\n\n  save (svg) {\n    return 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(this.serialize(svg))\n  },\n\n  getcssRules () {\n    let rules = []\n    for (let styles of document.styleSheets) {\n      let styleRules = this.readRules(styles)\n      for (let rule of styleRules) {\n        if (rule && rule.cssText) {\n          rules.push(rule)\n        }\n      }\n    }\n    return rules\n  },\n\n  readRules (styles) {\n    try {\n      if (!styles.cssRules) return styles.rules || []\n    } catch (e) {\n      // Firefox returns Security Error if stylesheet originates from different domain\n      if (e.name !== 'SecurityError') throw e\n      return []\n    }\n    return styles.cssRules\n  },\n\n  toDom (svgData) {\n    let div = document.createElement('div')\n    div.innerHTML = svgData\n    return div.firstChild || null\n  },\n\n  toObject (svg) {\n    if (svg) {\n      let attrs = {}\n      if (svg.attributes) {\n        for (let i = svg.attributes.length; i >= 0; i--) {\n          let a = svg.attributes[i]\n          if (a) attrs[a.name] = a.value\n        }\n      }\n      let data = svg.innerHTML\n      if (data) return { attrs, data }\n    }\n    return null\n  },\n\n  svgElFromString (svgData) {\n    let svgEl = this.toDom(svgData)\n    if (!this.isSvgData(svgEl)) return\n    svgEl.setAttribute('xmlns', 'http://www.w3.org/2000/svg')\n    return svgEl\n  },\n\n  svgDataToUrl (svgData, attrs) {\n    if (typeof (attrs) === 'object') {\n      for (let a in attrs) {\n        let attribute = (attrs[a]) ? (attrs[a]) : ''\n        svgData.setAttribute(a, attribute)\n      }\n    }\n    let svg = this.export(svgData)\n    if (svg) return this.svgToUrl(this.serialize(svg))\n    return null\n  },\n\n  isSvgData (svgData) {\n    if (!svgData.firstChild) return false\n    return (svgData.firstChild.parentNode.nodeName === 'svg')\n  },\n\n  svgToUrl (svg) {\n    let xml = new Blob([svg], { type: 'image/svg+xml' })\n    let url = URL.createObjectURL(xml)\n    return url\n  }\n}\n","import { render } from \"./svgRenderer.vue?vue&type=template&id=92d7d208\"\nimport script from \"./svgRenderer.vue?vue&type=script&lang=js\"\nexport * from \"./svgRenderer.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/sandu/workdir/vue3-d3-network/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n<!-- eslint-disable -->\n  <canvas \n    id=\"canvas\"\n    ref=\"canvas\"\n    :width=\"size.w\"\n    :height=\"size.h\"\n    :style=\"canvasStyle\"\n    @mouseup.prevent=\"canvasClick\"\n    @mousedown.prevent=\"canvasClick\"\n    @touchstart.prevent=\"canvasClick\"\n    @touchend.passive=\"canvasClick\"\n    v-render-canvas=\"{links, nodes}\">\n  </canvas>\n</template>\n<script>\nimport canvasStyles from '../lib/js/canvasStyles.js'\nimport stylePicker from '../lib/js/stylePicker.js'\nimport svgExport from '../lib/js/svgExport.js'\nexport default {\n  name: 'CanvasRenderer',\n  directives: {\n    renderCanvas: {\n      mounted (canvas, data, vnode) {\n        let nodes = data.value.nodes\n        let links = data.value.links\n        vnode.context.draw(nodes, links, canvas)\n      }\n    }\n  },\n  props: [\n    'size',\n    'offset',\n    'padding',\n    'nodes',\n    'selected',\n    'linksSelected',\n    'links',\n    'nodeSize',\n    'fontSize',\n    'strLinks',\n    'linkWidth',\n    'nodeLabels',\n    'labelOffset',\n    'canvasStyles',\n    'nodeSym',\n    'noNodes'\n  ],\n  data () {\n    return {\n      hitCanvas: null,\n      shapes: {},\n      drag: null,\n      stylesReady: false,\n      CssStyles: true, // load style from css props\n      // canvas styles\n      styles: canvasStyles,\n      sprites: {}\n    }\n  },\n  computed: {\n    nodeSvg () {\n      return this.nodeSym\n    },\n    canvasStyle () {\n      let left = this.padding.x + 'px'\n      let top = this.padding.y + 'px'\n      return { left, top }\n    }\n  },\n  watch: {\n    nodeSize () {\n      this.resetSprites()\n    },\n    canvasStyles () {\n      this.resetSprites()\n    }\n  },\n  created () {\n    if (this.canvasStyles) {\n      for (let o in this.canvasStyles) {\n        this.styles[o] = this.canvasStyles[o]\n      }\n    }\n  },\n  mounted () {\n    let vm = this\n    this.$nextTick(() => {\n      vm.hitCanvas.width = vm.size.w\n      vm.hitCanvas.height = vm.size.h\n    })\n  },\n  methods: {\n    //  canvas to png\n    canvasScreenShot (cb, bgColor) {\n      let graph = this.$refs.canvas\n      let canvas = document.createElement('canvas')\n      canvas.width = graph.width\n      canvas.height = graph.height\n      // background color\n      let background = this.styles.background\n      if (bgColor) background = this.getCssColor(bgColor)\n      let ctx = canvas.getContext('2d')\n      ctx = this.setCtx(ctx, background)\n      ctx.fillRect(0, 0, canvas.width, canvas.height)\n      ctx.drawImage(graph, 0, 0)\n      let img = canvas.toDataURL('image/png')\n      if (img) cb(null, img)\n      else cb(new Error('error generating canvas image'))\n    },\n    // emits events as 'action'\n    emit (e, args) {\n      this.$emit('action', e, args)\n    },\n    // creates 'virtual' canvas to catch mouse interaction\n    canvasInit () {\n      let hitCanvas = document.createElement('canvas')\n      hitCanvas.width = this.size.w\n      hitCanvas.height = this.size.h\n      hitCanvas.top = this.offset.y\n      hitCanvas.left = this.offset.x\n      hitCanvas.id = 'hit-canvas'\n      this.hitCanvas = hitCanvas\n      this.resetSprites()\n    },\n    resetSprites () {\n      this.sprites = {}\n      let sprites = ['node', 'nodeSelected', 'nodePinned', 'nodeSelectedPinned']\n      for (let sp of sprites) {\n        this.sprites[sp] = this.nodeSprite(this.styles[sp])\n      }\n    },\n    // canvas click handler\n    canvasClick (event) {\n      let hitCtx = this.hitCanvas.getContext('2d')\n      let e = (event.touches) ? event.touches[0] || event.changedTouches[0] : event\n      let scrollTop = document.body.scrollTop\n      let scrollLeft = document.body.scrollLeft\n      let x = e.clientX + scrollLeft - this.padding.x\n      let y = e.clientY + scrollTop - this.padding.y\n\n      let pixel = hitCtx.getImageData(x, y, 1, 1).data\n      let color = `rgb(${pixel[0]},${pixel[1]},${pixel[2]})`\n      let shape = this.shapes[color]\n      if (shape) {\n        let col = shape.type + 's'\n        let item = this[col][shape.index]\n        if (item) {\n          if (event.type === 'mouseup' || event.type === 'touchend') {\n            if (this.drag) {\n              this.drag = null\n              this.emit('dragEnd')\n            }\n            this.emit(shape.type + 'Click', [event, item])\n          } else if (event.type === 'mousedown' || event.type === 'touchstart') {\n            this.drag = item\n            this.emit('dragStart', [event, item.index])\n          }\n        }\n      }\n    },\n    // draw circ node to canvas\n    drawNode (ctx, node) {\n      ctx.beginPath()\n      ctx.arc(node.x, node.y, this.nodeSize / 2, 0, 2 * Math.PI, false)\n      let fillStyle = ctx.fillStyle\n      let strokeStyle = ctx.strokeStyle\n      if (node._color) ctx.fillStyle = node._color\n      if (node._borderColor) ctx.strokeStyle = node._borderColor\n      ctx.fill()\n      ctx.stroke()\n      ctx.closePath()\n      ctx.fillStyle = fillStyle\n      ctx.strokeStyle = strokeStyle\n    },\n    // draw link to canvas\n    drawLink (ctx, link) {\n      ctx.beginPath()\n      ctx.moveTo(link.source.x, link.source.y)\n      ctx.lineTo(link.target.x, link.target.y)\n      ctx.lineWidth = this.linkWidth\n      ctx.strokeStyle = (link._color) ? link._color : link.color\n      ctx.stroke()\n    },\n    // draw text to canvas\n    drawText (item, ctx, style, key) {\n      ctx = this.setCtx(ctx, style)\n      if (this.fontSize) ctx.font = this.fontSize + 'px ' + style.fontFamily\n      let text = (key) ? item[key] : item.name\n      // let x = (item.size) ? item.x + item.size : item.x\n      // let y = (item.size) ? item.y + (item.size / 2) : item.y\n      let x = item.x + this.labelOffset.x\n      let y = item.y + this.labelOffset.y\n      ctx.fillText(text, x, y)\n    },\n    // render canvas\n    draw (nodes, links, canvas) {\n      if (!this.hitCanvas) this.canvasInit()\n      let ctx = canvas.getContext('2d')\n      let hitCtx = this.hitCanvas.getContext('2d')\n      if (!this.stylesReady && this.CssStyles) {\n        this.getCssStyles()\n        this.resetSprites()\n      }\n      // clean canvas\n      ctx.clearRect(0, 0, this.size.w, this.size.h)\n\n      // draw  links\n      ctx = this.setCtx(ctx, this.styles.link)\n      for (let link of links) {\n        if (!this.linksSelected[link.id]) {\n          this.drawLink(ctx, link)\n        }\n        this.mapShape(link, 'link', this.drawLink, hitCtx)\n      }\n\n      // draw selected links\n      ctx = this.setCtx(ctx, this.styles.linkSelected)\n      for (let lid in this.linksSelected) {\n        let link = this.linksSelected[lid]\n\n        if (this.isOnView(link.source) && this.isOnView(link.target)) {\n          this.drawLink(ctx, link)\n        }\n      }\n\n      // draw nodes\n      ctx = this.setCtx(ctx, this.styles.node)\n      for (let node of nodes) {\n        if (this.isOnView(node)) {\n          if (!this.noNodes) {\n            let sprite = this.getNodeSprite(node)\n            ctx.drawImage(sprite, node.x - sprite.width / 2, node.y - sprite.height / 2)\n            // map node shape\n            this.mapShape(node, 'node', this.drawNode, hitCtx)\n          }\n          // draw  node labels\n          if (this.nodeLabels) {\n            node.size = this.nodeSize\n            this.drawText(node, ctx, this.labelStyle(node))\n            // ctx = this.setCtx(ctx, this.styles.node)\n          }\n        }\n      }\n      // draw selected nodes\n      ctx = this.setCtx(ctx, this.styles.nodeSelected)\n      for (let nid in this.selected) {\n        let node = this.selected[nid]\n        if (this.isOnView(node)) {\n          // this.drawNode(node, ctx)\n          // let sprite = this.sprites.nodeSelected\n          let sprite = this.getNodeSprite(node)\n          ctx.drawImage(sprite, node.x - sprite.width / 2, node.y - sprite.height / 2)\n        }\n      }\n    },\n    getNodeSprite (node) {\n      let name = this.nodeSpriteName(node)\n      let sprite = this.sprites[name]\n      if (!sprite) { // set style and create sprite\n        let style = this.loadNodeStyle(node)\n        sprite = this.nodeSprite(style)\n        this.sprites[name] = sprite\n      }\n      return sprite\n    },\n    nodeSpriteName (node) {\n      let name = 'node'\n      if (this.selected[node.id]) name += 'Selected'\n      if (node.pinned) name += 'Pinned'\n      if (node._cssClass) name += '-' + node._cssClass\n      if (node._color) name += '-' + stylePicker.compColor(node._color)\n      return name\n    },\n    nodeSprite (style) {\n      let size = this.nodeSize + this.styles.node.lineWidth\n      let canvasSize = (this.nodeSvg) ? size : size * 2\n      let canvas = this.spriteCanvas(canvasSize)\n      let ctx = canvas.getContext('2d')\n      if (this.nodeSvg) {\n        let attrs = { width: size, height: size, class: style._cssClass || '', style: style._cssStyle || '' }\n        let url = svgExport.svgDataToUrl(this.nodeSvg, attrs)\n        if (url) {\n          let img = new Image()\n          img.onload = () => {\n            ctx.drawImage(img, 0, 0)\n            URL.revokeObjectURL(url)\n          }\n          img.onerror = (error) => {\n            // eslint-disable-next-line\n            console.log('error creating node image', error)\n          }\n          img.src = url\n        }\n      } else {\n        ctx = this.setCtx(ctx, style)\n        this.drawNode(ctx, { x: size, y: size })\n      }\n      return canvas\n    },\n    spriteCanvas (size) {\n      let canvas = document.createElement('canvas')\n      canvas.width = size\n      canvas.height = size\n      return canvas\n    },\n    isOnView (obj) {\n      return (obj.x > 0 && obj.y > 0 && obj.x < this.size.w && obj.y < this.size.h)\n    },\n    // index shapes by random colors\n    mapShape (shape, type, drawFunc, hitCtx) {\n      // search unique color index\n      if (!shape.colorIndex) shape.colorIndex = this.newColorIndex()\n      let nShape = Object.assign({}, shape)\n      nShape.color = shape.colorIndex.rgb\n      nShape.borderColor = shape.colorIndex.rgb\n      nShape.type = type\n      // uncoment to debug\n      // hitCtx = this.$refs.canvas.getContext('2d') // to debug\n      let sprite = this.sprites[type] // the color is not important\n      if (sprite) {\n        sprite = this.cloneCanvas(sprite)\n        sprite = this.fillCanvas(sprite, shape.colorIndex)\n        hitCtx.drawImage(sprite, shape.x - sprite.width / 2, shape.y - sprite.height / 2)\n      } else {\n        drawFunc(hitCtx, nShape)\n      }\n      this.shapes[shape.colorIndex.rgb] = nShape\n    },\n    fillCanvas (canvas, color) {\n      let ctx = canvas.getContext('2d')\n      let imgData = ctx.getImageData(0, 0, canvas.width, canvas.height)\n      let pixels = canvas.width * canvas.height * 4\n      for (let p = 3; p <= pixels; p += 4) {\n        if (imgData.data[p] > 0) { // a\n          imgData.data[p] = 255 // sers alpha max to prevent transparency match\n          imgData.data[p - 3] = color.r // r\n          imgData.data[p - 2] = color.g // g\n          imgData.data[p - 1] = color.b // b\n        }\n      }\n      ctx.putImageData(imgData, 0, 0)\n      return canvas\n    },\n    // generates color intex to shapes\n    newColorIndex () {\n      while (true) {\n        let color = this.randomColor()\n        if (!this.shapes[color.rgb]) return color\n      }\n    },\n    // generates random color\n    randomColor () {\n      const r = Math.round(Math.random() * 255)\n      const g = Math.round(Math.random() * 255)\n      const b = Math.round(Math.random() * 255)\n      return { r, g, b, rgb: `rgb(${r},${g},${b})` }\n    },\n    // sets canvas context style\n    setCtx (ctx, conf) {\n      for (let p in conf) {\n        ctx[p] = conf[p]\n      }\n      return ctx\n    },\n    cloneCanvas (canvas) {\n      let newCanvas = document.createElement('canvas')\n      let ctx = newCanvas.getContext('2d')\n      newCanvas.width = canvas.width\n      newCanvas.height = canvas.height\n      ctx.drawImage(canvas, 0, 0)\n      return newCanvas\n    },\n    Sprite (name, cb) {\n      if (!this.sprites[name]) {\n        this.sprites[name] = cb()\n      }\n      return this.sprites[name]\n    },\n    // sets canvas properties form css properies\n    getCssStyles () {\n      let svg = stylePicker.create('svg', 'css-picker')\n      for (let styleName in this.styles) {\n        let style = this.styles[styleName] || {}\n        style = stylePicker.fillStyle(style, svg)\n      }\n      document.body.removeChild(svg)\n      this.stylesReady = true\n    },\n    loadNodeStyle (node) {\n      let styleName = 'node'\n      let selected = this.selected[node.id]\n      if (selected) styleName = 'nodeSelected'\n      if (node.pinned) styleName = 'nodePinned'\n      if (selected && node.pinned) styleName = 'nodeSelectedPinned'\n      // merge styles and update\n      if (node._cssClass) {\n        let name = styleName + '-' + node._cssClass\n        if (!this.styles[name]) {\n          let cStyle = Object.assign({}, this.styles[styleName] || {})\n          cStyle._cssClass = cStyle._cssClass || ''\n          cStyle._cssClass += ' ' + node._cssClass\n          this.updateStyle(name, cStyle)\n        }\n        styleName = name\n      }\n      let style = Object.assign({}, this.styles[styleName] || this.updateStyle(styleName))\n      if (node._color) {\n        style.fillStyle = node._color\n        style._cssStyle = 'fill:' + node._color\n      }\n      if (node._cssClass) {\n        style._cssClass += ' ' + node._cssClass\n      }\n      return style\n    },\n    updateStyle (styleName, style) {\n      style = style || this.styles[styleName] || {}\n      let svg = stylePicker.create('svg', 'css-picker')\n      style = stylePicker.fillStyle(style, svg)\n      this.styles[styleName] = style\n      document.body.removeChild(svg)\n      return style\n    },\n    getCssColor (color) {\n      let el = stylePicker.create('div', 'color-picker')\n      let id = el.id\n      el.setAttribute('style', 'background-color:' + color)\n      let style = stylePicker.mapStyle(id, { fillStyle: 'background-color' }, [])\n      document.body.removeChild(el)\n      return style\n    },\n    labelStyle (node) {\n      let style = this.styles.labels\n      let labelClass = node._labelClass\n      if (labelClass) {\n        let styleName = 'labels-' + labelClass\n        let labelStyle = this.styles[styleName]\n        if (!labelStyle) {\n          labelStyle = Object.assign({}, style)\n          labelStyle._cssClass += ' ' + labelClass\n          labelStyle = this.updateStyle(styleName, labelStyle)\n        }\n        style = labelStyle\n      }\n      return style\n    }\n  }\n}\n</script>\n<style lang=\"stylus\">\n  canvas\n    position absolute\n    top 0\n    left 0\n</style>\n","/**\n *  This styles are used to 'map' svg-css styles to canvas elements\n *  creating svg elements and getting computed styles properties from them\n *\n *  Object keys as style names.\n *  Property '_cssClass', Required, String, css class to pick style\n *  Property '_svgElement', Optional, String type of svg element,\n *  Property '_svgAttrs', Optional,Object, svg element attributes\n *  see supported elements in stylePicker -> canvasPicker()\n *  or add property _svgAttrs to use any svg element\n *\n */\nexport default {\n  background: {\n    _cssClass: 'net-svg',\n    fillStyle: 'white'\n  },\n  node: {\n    _cssClass: 'node', // name of the class to pick properties\n    fillStyle: 'green',\n    strokeStyle: 'orange',\n    lineWidth: 2\n  },\n  link: {\n    _cssClass: 'link',\n    strokeStyle: 'blue',\n    lineWidth: 1\n  },\n  labels: {\n    _cssClass: 'node-label',\n    _svgElement: 'text', // svg element to pick properties\n    fillStyle: 'black',\n    fontFamily: 'Arial'\n  },\n  nodeSelected: {\n    _cssClass: 'node selected',\n    fillStyle: 'red',\n    strokeStyle: 'orange',\n    lineWidth: 2\n  },\n  linkSelected: {\n    _cssClass: 'link selected',\n    strokeStyle: 'green',\n    lineWidth: 2\n  },\n  nodePinned: {\n    _cssClass: 'node pinned',\n    fillStyle: 'green',\n    strokeStyle: 'red'\n  },\n  nodeSelectedPinned: {\n    _cssClass: 'node selected pinned',\n    fillStyle: 'green',\n    strokeStyle: 'red'\n  }\n}\n","export default {\n  randomId () {\n    return Math.random().toString(36).substring(7)\n  },\n\n  // gets canvas style from css properties\n  fillStyle (style, svg) {\n    let pseudo = null\n    let id = 'picker-' + this.randomId()\n    let el = this.canvasPicker(style, id)\n    // to replace 'px'\n    svg.appendChild(el)\n    let props = {\n      fillStyle: 'fill',\n      strokeStyle: 'stroke',\n      lineWidth: 'stroke-width',\n      fontFamily: 'font-family'\n    }\n    style = this.mapStyle(id, props, style, pseudo)\n    svg.removeChild(el)\n    return style\n  },\n  mapStyle (id, props, style, pseudo, numberValues) {\n    let cStyle = window.getComputedStyle(document.getElementById(id), pseudo)\n    numberValues = numberValues || ['lineWidth']\n    for (let p in props) {\n      let value = cStyle.getPropertyValue(props[p])\n      if (numberValues.indexOf(p) > -1) value = parseInt(value, 10)\n      if (value) {\n        style[p] = value\n      }\n    }\n    return style\n  },\n  // creates svg elements to pick css properties\n  canvasPicker (style, id) {\n    let attrs = style._svgAttrs || {}\n    let element = style._svgElement || 'circle'\n    if (!style._svgAttrs) {\n      switch (element) {\n        case 'text':\n          attrs = { x: 10, y: 10, fontSize: 20 }\n          break\n        case 'circle':\n          attrs = { cx: 10, cy: 10, r: 10 }\n          break\n      }\n    }\n    attrs.class = style._cssClass\n    attrs.id = id\n    return this.svgCreate(element, attrs)\n  },\n  compColor (color) {\n    let el = document.createElement('div')\n    el.style.backgroundColor = color\n    document.body.appendChild(el)\n    let nColor = window.getComputedStyle(el, null).getPropertyValue('background-color')\n    document.body.removeChild(el)\n    return nColor\n  },\n  // creates svg element\n  svgCreate (element, attrs) {\n    let el = document.createElementNS('http://www.w3.org/2000/svg', element)\n    for (let a in attrs) {\n      el.setAttributeNS(null, a, attrs[a])\n    }\n    return el\n  },\n  create (element, idPref, appendTo) {\n    appendTo = appendTo || 'body'\n    let el = document.createElement(element)\n    let id = idPref || ''\n    id += this.randomId()\n    el.setAttribute('id', id)\n    document[appendTo].appendChild(el)\n    return el\n  }\n}\n","import { render } from \"./canvasRenderer.vue?vue&type=template&id=7990388d\"\nimport script from \"./canvasRenderer.vue?vue&type=script&lang=js\"\nexport * from \"./canvasRenderer.vue?vue&type=script&lang=js\"\n\nimport \"./canvasRenderer.vue?vue&type=style&index=0&id=7990388d&lang=stylus\"\n\nimport exportComponent from \"/Users/sandu/workdir/vue3-d3-network/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","/* eslint-disable */\nexport default {\n  save (img, name) {\n    if (img) {\n      img = this.dataURIToBlob(img, (blob) => {\n        let url = URL.createObjectURL(blob)\n        this.download(url, name)\n      })\n    }\n  },\n  dataURIToBlob (dataURI, cb) {\n    let binStr = atob(dataURI.split(',')[1])\n    let len = binStr.length\n    let arr = new Uint8Array(len)\n    for (var i = 0; i < len; i++) {\n      arr[i] = binStr.charCodeAt(i)\n    }\n    cb(new Blob([arr]))\n  },\n  download (url, name) {\n    name = name || ''\n    let link = document.createElement('a')\n    link.setAttribute('href', url)\n    link.setAttribute('download', name)\n    let el = document.body.appendChild(link)\n    link.click()\n    document.body.removeChild(el)\n  }\n}\n","<script>\nimport * as forceSimulation from 'd3-force'\nimport svgRenderer from './components/svgRenderer.vue'\nimport canvasRenderer from './components/canvasRenderer.vue'\nimport saveImage from './lib/js/saveImage.js'\nimport svgExport from './lib/js/svgExport.js'\nimport { h } from 'vue'\nconst d3 = Object.assign({}, forceSimulation)\n\nexport default {\n  name: 'D3Network',\n  components: {\n    canvasRenderer,\n    svgRenderer\n  },\n  props: {\n    netNodes: {\n      type: Array\n    },\n    netLinks: {\n      type: Array\n    },\n    options: {\n      type: Object\n    },\n    nodeSym: {\n      type: String\n    },\n    nodeCb: {\n      type: Function\n    },\n    linkCb: {\n      type: Function\n    },\n    simCb: {\n      type: Function\n    },\n    customForces: {\n      type: Object\n    },\n    selection: {\n      type: Object,\n      default: () => {\n        return {\n          nodes: {},\n          links: {}\n        }\n      }\n    }\n  },\n  emits: ['node-click', 'link-click'],\n  data () {\n    return {\n      canvas: false,\n      nodes: [],\n      links: [],\n      size: {\n        w: 500,\n        h: 500\n      },\n      offset: {\n        x: 0,\n        y: 0\n      },\n      clientOffset: {\n        x: 0,\n        y: 0\n      },\n      force: 500,\n      forces: {\n        Center: false,\n        X: 0.5,\n        Y: 0.5,\n        ManyBody: true,\n        Link: true\n      },\n      noNodes: false,\n      strLinks: true,\n      fontSize: 10,\n      dragging: false,\n      linkWidth: 1,\n      nodeLabels: false,\n      linkLabels: false,\n      nodeSize: 5,\n      mouseOfst: {\n        x: 0,\n        y: 0\n      },\n      padding: {\n        x: 0,\n        y: 0\n      },\n      simulation: null,\n      nodeSvg: null,\n      resizeListener: true\n    }\n  },\n  computed: {\n    selected () {\n      return this.selection.nodes\n    },\n    linksSelected () {\n      return this.selection.links\n    },\n    center () {\n      return {\n        x: this.size.w / 2 + (this.size.w / 200) + this.offset.x,\n        y: this.size.h / 2 + (this.size.h / 200) + this.offset.y\n      }\n    },\n    labelOffset () {\n      return {\n        x: (this.nodeSize / 2) + (this.fontSize / 2),\n        y: this.fontSize / 2\n      }\n    }\n  },\n  watch: {\n    netNodes (newValue) {\n      this.buildNodes(newValue)\n      this.reset()\n    },\n    netLinks (newValue, oldValue) {\n      this.links = this.buildLinks(newValue)\n      this.reset()\n    },\n    nodeSym () {\n      this.updateNodeSvg()\n    },\n    options (newValue, oldValue) {\n      this.updateOptions(newValue)\n      if (oldValue.size && newValue.size) {\n        if ((oldValue.size.w !== newValue.size.w) || (oldValue.size.h !== newValue.size.h)) {\n          this.onResize()\n        }\n      }\n      this.animate()\n    }\n  },\n  created () {\n    this.updateOptions(this.options)\n    this.buildNodes(this.netNodes)\n    this.links = this.buildLinks(this.netLinks)\n    this.updateNodeSvg()\n  },\n  mounted () {\n    this.onResize()\n    this.$nextTick(() => {\n      this.animate()\n    })\n    if (this.resizeListener) window.addEventListener('resize', this.onResize)\n  },\n  beforeUnmount () {\n    if (this.resizeListener) window.removeEventListener('resize', this.onResize)\n  },\n  methods: {\n    updateNodeSvg () {\n      let svg = null\n      if (this.nodeSym) {\n        svg = svgExport.svgElFromString(this.nodeSym)\n      }\n      this.nodeSvg = svg\n    },\n    methodCall (action, args) {\n      let method = this[action]\n      if (method && typeof (method) === 'function') {\n        if (args) method(...args)\n        else method()\n      }\n    },\n    onResize () {\n      let size = this.options.size\n      if (!size || !size.w) this.size.w = this.$el.clientWidth\n      if (!size || !size.h) this.size.h = this.$el.clientHeight\n      this.padding.x = 0\n      this.padding.y = 0\n      // serach offsets of parents\n      let vm = this\n      while (vm.$parent) {\n        this.padding.x += vm.$el.offsetLeft || 0\n        this.padding.y += vm.$el.offsetTop || 0\n        vm = vm.$parent\n      }\n      this.animate()\n    },\n    // -- Data\n    updateOptions (options) {\n      for (let op in options) {\n        if (typeof this[op] !== 'undefined') {\n          this[op] = options[op]\n        }\n      }\n    },\n    buildNodes (nodes) {\n      this.nodes = nodes.map((node, index) => {\n        // node formatter option\n        node = this.itemCb(this.nodeCb, node)\n        // index as default node id\n        if (!node.id && node.id !== 0) node.id = index\n        // initialize node coords\n        if (!node.x) node.x = 0\n        if (!node.y) node.y = 0 \n        // node default name, allow string 0 as name\n        if (!node.name && node.name !== '0') node.name = 'node ' + node.id\n        if (node.svgSym) {\n          node.svgIcon = svgExport.svgElFromString(node.svgSym)\n          if (!this.canvas && node.svgIcon && !node.svgObj) node.svgObj = svgExport.toObject(node.svgIcon)\n        }\n        return node\n      })\n    },\n\n    buildLinks (links) {\n      return links.concat().map((link, index) => {\n        // link formatter option\n        link = this.itemCb(this.linkCb, link)\n        // source and target for d3\n        link.source = link.sid\n        link.target = link.tid\n        if (!link.id) link.id = 'link-' + index\n        return link\n      })\n    },\n    itemCb (cb, item) {\n      if (cb && typeof (cb) === 'function') item = cb(item)\n      return item\n    },\n    // -- Animation\n    simulate (nodes, links) {\n      let forces = this.forces\n      let sim = d3.forceSimulation()\n          .stop()\n          .alpha(0.5)\n          // .alphaMin(0.05)\n          .nodes(nodes)\n\n      if (forces.Center !== false) sim.force('center', d3.forceCenter(this.center.x, this.center.y))\n      if (forces.X !== false) {\n        sim.force('X', d3.forceX(this.center.x).strength(forces.X))\n      }\n      if (forces.Y !== false) {\n        sim.force('Y', d3.forceY(this.center.y).strength(forces.Y))\n      }\n      if (forces.ManyBody !== false) {\n        sim.force('charge', d3.forceManyBody().strength(-this.force))\n      }\n      if (forces.Link !== false) {\n        sim.force('link', d3.forceLink(links).id(function (d) { return d.id }))\n      }\n      sim = this.setCustomForces(sim)\n      sim = this.itemCb(this.simCb, sim)\n      return sim\n    },\n    setCustomForces (sim) {\n      let forces = this.customForces\n      if (forces) {\n        for (let f in forces) {\n          let d3Func = this.getD3Func('force' + f)\n          if (d3Func) {\n            let args = forces[f]\n            sim.force('custom' + f, d3Func(...args))\n          }\n        }\n      }\n      return sim\n    },\n    getD3Func (name) {\n      let func = d3[name]\n      if (func && typeof (func) === 'function') return func\n      return null\n    },\n    animate () {\n      if (this.simulation) this.simulation.stop()\n      if (this.forces.Link !== false) this.simulation = this.simulate(this.nodes, this.links)\n      else this.simulation = this.simulate(this.nodes)\n      this.simulation.restart()\n    },\n    reset () {\n      this.animate()\n      this.nodes = this.simulation.nodes()\n      if (this.forces.links) this.links = this.simulation.force('link').links()\n    },\n    // -- Mouse Interaction\n    move (event) {\n      let pos = this.clientPos(event)\n      if (this.dragging !== false) {\n        if (this.nodes[this.dragging]) {\n          this.simulation.restart()\n          this.simulation.alpha(0.5)\n          this.nodes[this.dragging].fx = pos.x - this.mouseOfst.x\n          this.nodes[this.dragging].fy = pos.y - this.mouseOfst.y\n        }\n      }\n    },\n    clientPos (event) {\n      let x = (event.touches) ? event.touches[0].clientX : event.clientX\n      let y = (event.touches) ? event.touches[0].clientY : event.clientY\n      x = x || 0\n      y = y || 0\n      return { x, y }\n    },\n    dragStart (event, nodeKey) {\n      this.dragging = (nodeKey === false) ? false : nodeKey\n      this.setMouseOffset(event, this.nodes[nodeKey])\n      if (this.dragging === false) {\n        this.simulation.alpha(0.1)\n        this.simulation.restart()\n        this.setMouseOffset()\n      }\n    },\n    dragEnd () {\n      let node = this.nodes[this.dragging]\n      if (node && !node.pinned) {\n        // unfix node position\n        node.fx = null\n        node.fy = null\n      }\n      this.dragStart(false)\n    },\n    // -- Render helpers\n    nodeClick (event, node) {\n      this.$emit('node-click', event, node)\n    },\n    linkClick (event, link) {\n      this.$emit('link-click', event, link)\n    },\n    setMouseOffset (event, node) {\n      let x = 0\n      let y = 0\n      if (event && node) {\n        let pos = this.clientPos(event)\n        x = (pos.x) ? pos.x - node.x : node.x\n        y = (pos.y) ? pos.y - node.y : node.y\n      }\n      this.mouseOfst = { x, y }\n    },\n    screenShot (name, bgColor, toSVG, svgAllCss) {\n      let exportFunc\n      let args = []\n      if (this.canvas) {\n        toSVG = false\n        exportFunc = this.$refs.canvas.canvasScreenShot\n        args = [bgColor]\n      } else {\n        exportFunc = this.$refs.svg.svgScreenShot\n        args = [toSVG, bgColor, svgAllCss]\n      }\n      if (toSVG) name = name || 'export.svg'\n\n      exportFunc((err, url) => {\n        if (!err) {\n          if (!toSVG) saveImage.save(url, name)\n          else saveImage.download(url, name)\n        }\n        this.$emit('screen-shot', err)\n      }, ...args)\n    }\n  },\n  render () {\n    let ref = 'svg'\n    let props = {}\n    let renderer = svgRenderer\n    let bindProps = [\n      'size',\n      'nodes',\n      'links',\n      'selected',\n      'linksSelected',\n      'strLinks',\n      'linkWidth',\n      'nodeLabels',\n      'linkLabels',\n      'fontSize',\n      'labelOffset',\n      'offset',\n      'padding',\n      'nodeSize',\n      'noNodes'\n    ]\n\n    for (let prop of bindProps) {\n      props[prop] = this[prop]\n    }\n    props.nodeSym = this.nodeSvg\n\n    if (this.canvas) {\n      renderer = canvasRenderer\n      ref = 'canvas'\n      props.canvasStyles = this.options.canvasStyles\n    }\n\n    return h(\n      'div', {\n        class: ['net'],\n        onMousemove: this.move,\n        onTouchmove: this.move \n      }, [h(\n        renderer, {\n          ...props, ref, onAction: this.methodCall\n        }\n      )]\n    )\n  }\n}\n</script>\n\n<style lang=\"stylus\">\n@import 'lib/styl/vars.styl'\n\n.net\n  height 100%\n  margin 0\n\n.net-svg\n  // fill: white // background color to export as image\n\n.node\n  stroke alpha($dark, 0.7)\n  stroke-width 3px\n  transition fill 0.5s ease\n  fill $white\n\n.node.selected\n  stroke $color2\n\n.node.pinned\n  stroke alpha($warn, 0.6)\n\n.link\n  stroke alpha($dark, 0.3)\n\n.node, .link\n  stroke-linecap round\n\n  &:hover\n    stroke $warn\n    stroke-width 5px\n\n.link.selected\n  stroke alpha($color2, 0.6)\n\n.curve\n  fill none\n\n.node-label\n  fill $dark\n\n.link-label\n  fill $dark\n  transform translate(0, -0.5em)\n  text-anchor middle\n</style>\n","import script from \"./vue-d3-network.vue?vue&type=script&lang=js\"\nexport * from \"./vue-d3-network.vue?vue&type=script&lang=js\"\n\nimport \"./vue-d3-network.vue?vue&type=style&index=0&id=03359a54&lang=stylus\"\n\nconst __exports__ = script;\n\nexport default __exports__","import './setPublicPath'\nimport mod from '~entry'\nexport default mod\nexport * from '~entry'\n"],"names":["root","factory","exports","module","require","define","amd","self","this","__WEBPACK_EXTERNAL_MODULE__203__","getCurrentScript","descriptor","Object","getOwnPropertyDescriptor","document","currentScript","get","Error","err","pageSource","inlineScriptSourceRegExp","inlineScriptSource","ieStackRegExp","ffStackRegExp","stackDetails","exec","stack","scriptLocation","line","currentLocation","location","href","replace","hash","scripts","getElementsByTagName","documentElement","outerHTML","RegExp","trim","i","length","readyState","src","innerHTML","sfc","props","target","__vccOpts","key","val","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","call","d","definition","o","defineProperty","enumerable","obj","prop","prototype","hasOwnProperty","r","Symbol","toStringTag","value","p","window","match","x","y","nodes","force","node","n","sx","sy","initialize","_","arguments","Math","random","_x","_y","cover","tree","isNaN","parent","xm","ym","xp","yp","right","bottom","j","_root","leaf","data","x0","_x0","y0","_y0","x1","_x1","y1","_y1","next","Array","addAll","xz","yz","Infinity","floor","z","visit","push","radius","x2","y2","q","x3","y3","quads","pop","dx","dy","d2","sqrt","retainer","previous","removeAll","remove","size","callback","child","defaultX","defaultY","quadtree","Quadtree","NaN","leaf_copy","copy","treeProto","vx","vy","radii","strength","iterations","xi","yi","ri","ri2","k","visitAfter","prepare","index","apply","quad","rj","l","jiggle","constant","source","add","extent","find","prefix","Map","object","f","map","each","set","isArray","constructor","has","property","clear","keys","slice","values","entries","empty","Set","proto","nodeById","nodeId","links","strengths","distances","count","bias","id","defaultStrength","distance","link","min","alpha","b","m","initializeStrength","initializeDistance","noop","dispatch","t","test","Dispatch","parseTypenames","typenames","types","split","name","indexOf","type","c","concat","on","typename","T","that","args","taskHead","taskTail","timeout","interval","pokeDelay","clockLast","clockNow","clockSkew","clock","performance","now","Date","setFrame","requestAnimationFrame","bind","setTimeout","clearNow","Timer","_call","_time","_next","timer","delay","time","restart","timerFlush","e","wake","nap","poke","t0","t2","t1","sleep","clearTimeout","clearInterval","setInterval","TypeError","stop","initialRadius","initialAngle","PI","simulation","alphaMin","alphaDecay","pow","alphaTarget","velocityDecay","forces","stepper","step","event","tick","fx","fy","initializeNodes","angle","cos","sin","initializeForce","closest","distanceMin2","distanceMax2","theta2","accumulate","weight","abs","w","distanceMin","distanceMax","theta","radiuses","class","ref","xmlns","width","height","h","emit","$event","linkPath","linkAttrs","linkClass","style","linkStyle","noNodes","svgIcon","viewBox","attrs","getNodeSize","nodeStyle","title","nodeClass","_svgAttrs","cx","cy","fontSize","startOffset","_labelClass","labelOffset","NS","export","svgOrg","allCss","svg","isSvgData","cloneNode","childs","parentNode","querySelectorAll","cssStyle","rules","getcssRules","elRules","filter","rule","matches","selectorText","cssText","css","join","createElementNS","insertBefore","childNodes","appendChild","makeCanvas","background","canvas","createElement","ctx","getContext","fillStyle","fillRect","serialize","XMLSerializer","serializeToString","svgToImg","cb","xml","img","Image","onload","drawImage","png","toDataURL","onerror","btoa","unescape","encodeURIComponent","save","styles","styleSheets","styleRules","readRules","cssRules","toDom","svgData","div","firstChild","toObject","attributes","a","svgElFromString","svgEl","setAttribute","svgDataToUrl","attribute","svgToUrl","nodeName","Blob","url","URL","createObjectURL","computed","nodeSvg","nodeSym","svgExport","methods","side","_size","nodeSize","svgObj","$emit","svgScreenShot","toSvg","$refs","searchBackground","linkId","cssClass","linksSelected","strLinks","M","X","Q","_color","stroke","classes","_cssClass","forEach","selected","vm","$parent","getComputedStyle","$el","getPropertyValue","rgb","sum","reduce","parseInt","spriteSymbol","toSymbol","linkWidth","__exports__","render","canvasStyle","canvasClick","strokeStyle","lineWidth","labels","_svgElement","fontFamily","nodeSelected","linkSelected","nodePinned","nodeSelectedPinned","randomId","toString","substring","pseudo","el","canvasPicker","mapStyle","removeChild","numberValues","cStyle","getElementById","element","svgCreate","compColor","color","backgroundColor","body","nColor","setAttributeNS","create","idPref","appendTo","directives","renderCanvas","mounted","vnode","context","draw","hitCanvas","shapes","drag","stylesReady","CssStyles","canvasStyles","sprites","left","padding","top","watch","resetSprites","created","$nextTick","canvasScreenShot","bgColor","graph","getCssColor","setCtx","canvasInit","offset","sp","nodeSprite","hitCtx","touches","changedTouches","scrollTop","scrollLeft","clientX","clientY","pixel","getImageData","shape","col","item","drawNode","beginPath","arc","_borderColor","fill","closePath","drawLink","moveTo","lineTo","drawText","font","text","fillText","getCssStyles","clearRect","mapShape","lid","isOnView","sprite","getNodeSprite","nodeLabels","labelStyle","nid","nodeSpriteName","loadNodeStyle","pinned","stylePicker","canvasSize","spriteCanvas","_cssStyle","revokeObjectURL","error","console","log","drawFunc","colorIndex","newColorIndex","nShape","assign","borderColor","cloneCanvas","fillCanvas","imgData","pixels","g","putImageData","randomColor","round","conf","newCanvas","Sprite","styleName","updateStyle","labelClass","dataURIToBlob","blob","download","dataURI","binStr","atob","len","arr","Uint8Array","charCodeAt","click","d3","components","canvasRenderer","svgRenderer","netNodes","netLinks","options","String","nodeCb","Function","linkCb","simCb","customForces","selection","default","emits","clientOffset","Center","Y","ManyBody","Link","dragging","linkLabels","mouseOfst","resizeListener","center","newValue","buildNodes","reset","oldValue","buildLinks","updateNodeSvg","updateOptions","onResize","animate","addEventListener","beforeUnmount","removeEventListener","methodCall","action","method","clientWidth","clientHeight","offsetLeft","offsetTop","op","itemCb","svgSym","sid","tid","simulate","sim","forceSimulation","forceCenter","forceX","forceY","forceManyBody","forceLink","setCustomForces","d3Func","getD3Func","func","move","pos","clientPos","dragStart","nodeKey","setMouseOffset","dragEnd","nodeClick","linkClick","screenShot","toSVG","svgAllCss","exportFunc","saveImage","renderer","bindProps","onMousemove","onTouchmove","onAction"],"sourceRoot":""}